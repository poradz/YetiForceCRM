"use strict";var script={name:"Icon",props:{icon:{type:String,required:!0},size:{type:String,required:!1}}};function normalizeComponent(e,t,n,i,r,o,a,s,c,l){"boolean"!=typeof a&&(c=s,s=a,a=!1);var d,u="function"==typeof n?n.options:n;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),i&&(u._scopeId=i),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=d):t&&(d=a?function(){t.call(this,l(this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),d)if(u.functional){var m=u.render;u.render=function(e,t){return d.call(t),m(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,d):[d]}return n}var normalizeComponent_1=normalizeComponent,isOldIE="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(e){return function(e,t){return addStyle(e,t)}}var HEAD=document.head||document.getElementsByTagName("head")[0],styles={};function addStyle(e,t){var n=isOldIE?t.media||"default":e,i=styles[n]||(styles[n]={ids:new Set,styles:[]});if(!i.ids.has(e)){i.ids.add(e);var r=t.source;if(t.map&&(r+="\n/*# sourceURL="+t.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),i.element||(i.element=document.createElement("style"),i.element.type="text/css",t.media&&i.element.setAttribute("media",t.media),HEAD.appendChild(i.element)),"styleSheet"in i.element)i.styles.push(r),i.element.styleSheet.cssText=i.styles.filter(Boolean).join("\n");else{var o=i.ids.size-1,a=document.createTextNode(r),s=i.element.childNodes;s[o]&&i.element.removeChild(s[o]),s.length?i.element.insertBefore(a,s[o]):i.element.appendChild(a)}}}var browser=createInjector;const __vue_script__=script;var __vue_render__=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[/^mdi|^fa/.test(e.icon)?n("q-icon",{attrs:{name:e.icon,size:e.size,dense:""}}):e.icon.includes("/")?n("q-avatar",{attrs:{size:e.size}},[n("q-img",{attrs:{src:e.icon}})],1):n("q-icon",{class:[e.icon,"q-icon"],style:{"font-size":e.size}})],1)},__vue_staticRenderFns__=[];__vue_render__._withStripped=!0;const __vue_inject_styles__=function(e){e&&e("data-v-8becc55e_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"Icon.vue"},media:void 0})},__vue_scope_id__="data-v-8becc55e",__vue_module_identifier__=void 0,__vue_is_functional_template__=!1;var Icon=normalizeComponent_1({render:__vue_render__,staticRenderFns:__vue_staticRenderFns__},__vue_inject_styles__,__vue_script__,__vue_scope_id__,!1,void 0,browser,void 0),script$1={name:"IconInfo",props:{customOptions:{type:Object,default:()=>({})}},data:()=>({searchInfoShow:!1,options:{iconSize:"inherit",tooltipFont:"14px",backgroundClass:"bg-primary"},tooltipId:`tooltip-id-${Quasar.utils.uid()}`}),created(){this.options=Object.assign(this.options,this.customOptions),document.addEventListener("click",e=>{!this.searchInfoShow||e.target.offsetParent.classList.contains(this.tooltipId)||e.target.classList.contains(this.tooltipId)||(this.searchInfoShow=!1)})}};const __vue_script__$1=script$1;var __vue_render__$1=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex"},[n("q-icon",{class:["cursor-pointer",e.tooltipId],style:"font-size: "+e.options.iconSize+";",attrs:{name:e.searchInfoShow?"mdi-information":"mdi-information-outline"},on:{click:function(t){e.searchInfoShow=!e.searchInfoShow}}}),e._v(" "),n("div",[n("q-tooltip",{attrs:{"content-style":"font-size: "+e.options.tooltipFont,"content-class":[e.options.backgroundClass,e.tooltipId,"all-pointer-events"]},model:{value:e.searchInfoShow,callback:function(t){e.searchInfoShow=t},expression:"searchInfoShow"}},[e._t("default")],2)],1)],1)},__vue_staticRenderFns__$1=[];__vue_render__$1._withStripped=!0;const __vue_inject_styles__$1=function(e){e&&e("data-v-053eb8cc_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"IconInfo.vue"},media:void 0})},__vue_scope_id__$1="data-v-053eb8cc",__vue_module_identifier__$1=void 0,__vue_is_functional_template__$1=!1;var IconInfo=normalizeComponent_1({render:__vue_render__$1,staticRenderFns:__vue_staticRenderFns__$1},__vue_inject_styles__$1,__vue_script__$1,"data-v-053eb8cc",!1,void 0,browser,void 0),script$2={name:"Carousel",data:()=>({slide:0,height:"90vh",report:0,fullscreen:!1}),props:{record:{type:Object,required:!0}},watch:{fullscreen:function(e){e?this.$q.fullscreen.request():this.$q.fullscreen.exit()},"$q.fullscreen.isActive"(e){this.fullscreen=e}},methods:{onTransition(e){$(this.$refs.carousel.$el).find("img").css("max-width",$(this.$refs.carousel.$el).width()-17)}}};const __vue_script__$2=script$2;var __vue_render__$2=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("q-carousel",{ref:"carousel",class:["quasar-reset shadow-1 rounded-borders",e.fullscreen?"":"carousel-height"],attrs:{"transition-prev":"scale","transition-next":"scale",swipeable:"",animated:"","control-color":"black",navigation:"",padding:"",arrows:"",fullscreen:e.fullscreen},on:{"update:fullscreen":function(t){e.fullscreen=t},transition:e.onTransition},scopedSlots:e._u([{key:"control",fn:function(){return[n("q-carousel-control",{attrs:{position:"bottom-right",offset:[18,18]}},[n("q-btn",{attrs:{push:"",round:"",dense:"",color:"white","text-color":"primary",icon:e.fullscreen?"mdi-fullscreen-exit":"mdi-fullscreen"},on:{click:function(t){e.fullscreen=!e.fullscreen}}})],1)]},proxy:!0}]),model:{value:e.slide,callback:function(t){e.slide=t},expression:"slide"}},e._l(e.record.content,function(t,i){return n("q-carousel-slide",{key:i,staticClass:"column no-wrap flex-center",attrs:{name:i,fullscreen:e.fullscreen},on:{"update:fullscreen":function(t){e.fullscreen=t}}},[n("div",{staticClass:"full-height",domProps:{innerHTML:e._s(t)}})])}),1)],1)},__vue_staticRenderFns__$2=[];__vue_render__$2._withStripped=!0;const __vue_inject_styles__$2=function(e){e&&e("data-v-7aaa93f4_0",{source:"\n.carousel-height[data-v-7aaa93f4] {\n  height: max-content;\n  min-height: calc(100vh - 31.14px);\n}\n",map:{version:3,sources:["C:\\www\\YetiForceCRM\\public_html\\src\\layouts\\resources\\views\\KnowledgeBase\\components\\Carousel.vue"],names:[],mappings:";AA8FA;EACA,mBAAA;EACA,iCAAA;AACA",file:"Carousel.vue",sourcesContent:['RecordsList\x3c!--\n/**\n * Carousel component\n *\n * @description Carousel component for knowledge base view\n * @license YetiForce Public License 3.0\n * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>\n */\n--\x3e\n<template>\n  <div>\n    <q-carousel\n      v-model="slide"\n      transition-prev="scale"\n      transition-next="scale"\n      swipeable\n      animated\n      control-color="black"\n      navigation\n      padding\n      arrows\n\n      :class="[\'quasar-reset shadow-1 rounded-borders\', !fullscreen ? \'carousel-height\' : \'\']"\n      :fullscreen.sync="fullscreen"\n      ref="carousel"\n      @transition="onTransition"\n    >\n      <q-carousel-slide\n        v-for="(slide, index) in record.content"\n        :name="index"\n        :key="index"\n        class="column no-wrap flex-center"\n        :fullscreen.sync="fullscreen"\n      >\n        <div class="full-height" v-html="slide"></div>\n      </q-carousel-slide>\n      <template v-slot:control>\n        <q-carousel-control position="bottom-right" :offset="[18, 18]">\n          <q-btn\n            push\n            round\n            dense\n            color="white"\n            text-color="primary"\n            :icon="fullscreen ? \'mdi-fullscreen-exit\' : \'mdi-fullscreen\'"\n            @click="fullscreen = !fullscreen"\n          />\n        </q-carousel-control>\n      </template>\n    </q-carousel>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \'Carousel\',\n  data() {\n    return {\n      slide: 0,\n      height: \'90vh\',\n      report: 0,\n      fullscreen: false\n    }\n  },\n  props: {\n    record: {\n      type: Object,\n      required: true\n    }\n  },\n  watch: {\n    fullscreen: function(val) {\n      if (val) {\n        this.$q.fullscreen.request()\n      } else {\n        this.$q.fullscreen.exit()\n      }\n    },\n    \'$q.fullscreen.isActive\'(val) {\n      this.fullscreen = val\n    }\n  },\n  methods: {\n    onTransition(size) {\n      const scrollbarWidth = 17\n      $(this.$refs.carousel.$el)\n        .find(\'img\')\n        .css(\'max-width\', $(this.$refs.carousel.$el).width() - scrollbarWidth)\n    }\n  }\n}\n<\/script>\n\n<style scoped>\n.carousel-height {\n  height: max-content;\n  min-height: calc(100vh - 31.14px);\n}\n</style>\n']},media:void 0})},__vue_scope_id__$2="data-v-7aaa93f4",__vue_module_identifier__$2=void 0,__vue_is_functional_template__$2=!1;var Carousel=normalizeComponent_1({render:__vue_render__$2,staticRenderFns:__vue_staticRenderFns__$2},__vue_inject_styles__$2,__vue_script__$2,"data-v-7aaa93f4",!1,void 0,browser,void 0),global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};global$1.setTimeout,global$1.clearTimeout;var performance=global$1.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function applyMixin(e){if(Number(e.version.split(".")[0])>=2)e.mixin({beforeCreate:n});else{var t=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[n].concat(e.init):n,t.call(this,e)}}function n(){var e=this.$options;e.store?this.$store="function"==typeof e.store?e.store():e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}}var target="undefined"!=typeof window?window:void 0!==global$1?global$1:{},devtoolHook=target.__VUE_DEVTOOLS_GLOBAL_HOOK__;function devtoolPlugin(e){devtoolHook&&(e._devtoolHook=devtoolHook,devtoolHook.emit("vuex:init",e),devtoolHook.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(e,t){devtoolHook.emit("vuex:mutation",e,t)}))}function forEachValue(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function isObject(e){return null!==e&&"object"==typeof e}function isPromise(e){return e&&"function"==typeof e.then}function partial(e,t){return function(){return e(t)}}var Module=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"==typeof n?n():n)||{}},prototypeAccessors={namespaced:{configurable:!0}};prototypeAccessors.namespaced.get=function(){return!!this._rawModule.namespaced},Module.prototype.addChild=function(e,t){this._children[e]=t},Module.prototype.removeChild=function(e){delete this._children[e]},Module.prototype.getChild=function(e){return this._children[e]},Module.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Module.prototype.forEachChild=function(e){forEachValue(this._children,e)},Module.prototype.forEachGetter=function(e){this._rawModule.getters&&forEachValue(this._rawModule.getters,e)},Module.prototype.forEachAction=function(e){this._rawModule.actions&&forEachValue(this._rawModule.actions,e)},Module.prototype.forEachMutation=function(e){this._rawModule.mutations&&forEachValue(this._rawModule.mutations,e)},Object.defineProperties(Module.prototype,prototypeAccessors);var Vue$1,ModuleCollection=function(e){this.register([],e,!1)};function update(e,t,n){if(t.update(n),n.modules)for(var i in n.modules){if(!t.getChild(i))return;update(e.concat(i),t.getChild(i),n.modules[i])}}ModuleCollection.prototype.get=function(e){return e.reduce(function(e,t){return e.getChild(t)},this.root)},ModuleCollection.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(e,n){return e+((t=t.getChild(n)).namespaced?n+"/":"")},"")},ModuleCollection.prototype.update=function(e){update([],this.root,e)},ModuleCollection.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var r=new Module(t,n);0===e.length?this.root=r:this.get(e.slice(0,-1)).addChild(e[e.length-1],r);t.modules&&forEachValue(t.modules,function(t,r){i.register(e.concat(r),t,n)})},ModuleCollection.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];t.getChild(n).runtime&&t.removeChild(n)};var Store=function(e){var t=this;void 0===e&&(e={}),!Vue$1&&"undefined"!=typeof window&&window.Vue&&install(window.Vue);var n=e.plugins;void 0===n&&(n=[]);var i=e.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ModuleCollection(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new Vue$1;var r=this,o=this.dispatch,a=this.commit;this.dispatch=function(e,t){return o.call(r,e,t)},this.commit=function(e,t,n){return a.call(r,e,t,n)},this.strict=i;var s=this._modules.root.state;installModule(this,s,[],this._modules.root),resetStoreVM(this,s),n.forEach(function(e){return e(t)}),(void 0!==e.devtools?e.devtools:Vue$1.config.devtools)&&devtoolPlugin(this)},prototypeAccessors$1={state:{configurable:!0}};function genericSubscribe(e,t){return t.indexOf(e)<0&&t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function resetStore(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;installModule(e,n,[],e._modules.root,!0),resetStoreVM(e,n,t)}function resetStoreVM(e,t,n){var i=e._vm;e.getters={};var r=e._wrappedGetters,o={};forEachValue(r,function(t,n){o[n]=partial(t,e),Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})});var a=Vue$1.config.silent;Vue$1.config.silent=!0,e._vm=new Vue$1({data:{$$state:t},computed:o}),Vue$1.config.silent=a,e.strict&&enableStrictMode(e),i&&(n&&e._withCommit(function(){i._data.$$state=null}),Vue$1.nextTick(function(){return i.$destroy()}))}function installModule(e,t,n,i,r){var o=!n.length,a=e._modules.getNamespace(n);if(i.namespaced&&(e._modulesNamespaceMap[a]=i),!o&&!r){var s=getNestedState(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit(function(){Vue$1.set(s,c,i.state)})}var l=i.context=makeLocalContext(e,a,n);i.forEachMutation(function(t,n){registerMutation(e,a+n,t,l)}),i.forEachAction(function(t,n){var i=t.root?n:a+n,r=t.handler||t;registerAction(e,i,r,l)}),i.forEachGetter(function(t,n){registerGetter(e,a+n,t,l)}),i.forEachChild(function(i,o){installModule(e,t,n.concat(o),i,r)})}function makeLocalContext(e,t,n){var i=""===t,r={dispatch:i?e.dispatch:function(n,i,r){var o=unifyObjectStyle(n,i,r),a=o.payload,s=o.options,c=o.type;return s&&s.root||(c=t+c),e.dispatch(c,a)},commit:i?e.commit:function(n,i,r){var o=unifyObjectStyle(n,i,r),a=o.payload,s=o.options,c=o.type;s&&s.root||(c=t+c),e.commit(c,a,s)}};return Object.defineProperties(r,{getters:{get:i?function(){return e.getters}:function(){return makeLocalGetters(e,t)}},state:{get:function(){return getNestedState(e.state,n)}}}),r}function makeLocalGetters(e,t){var n={},i=t.length;return Object.keys(e.getters).forEach(function(r){if(r.slice(0,i)===t){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return e.getters[r]},enumerable:!0})}}),n}function registerMutation(e,t,n,i){(e._mutations[t]||(e._mutations[t]=[])).push(function(t){n.call(e,i.state,t)})}function registerAction(e,t,n,i){(e._actions[t]||(e._actions[t]=[])).push(function(t,r){var o=n.call(e,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:e.getters,rootState:e.state},t,r);return isPromise(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(t){throw e._devtoolHook.emit("vuex:error",t),t}):o})}function registerGetter(e,t,n,i){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(i.state,i.getters,e.state,e.getters)})}function enableStrictMode(e){e._vm.$watch(function(){return this._data.$$state},function(){},{deep:!0,sync:!0})}function getNestedState(e,t){return t.length?t.reduce(function(e,t){return e[t]},e):e}function unifyObjectStyle(e,t,n){return isObject(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function install(e){Vue$1&&e===Vue$1||applyMixin(Vue$1=e)}prototypeAccessors$1.state.get=function(){return this._vm._data.$$state},prototypeAccessors$1.state.set=function(e){},Store.prototype.commit=function(e,t,n){var i=this,r=unifyObjectStyle(e,t,n),o=r.type,a=r.payload,s={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(e){e(a)})}),this._subscribers.forEach(function(e){return e(s,i.state)}))},Store.prototype.dispatch=function(e,t){var n=this,i=unifyObjectStyle(e,t),r=i.type,o=i.payload,a={type:r,payload:o},s=this._actions[r];if(s){try{this._actionSubscribers.filter(function(e){return e.before}).forEach(function(e){return e.before(a,n.state)})}catch(e){}return(s.length>1?Promise.all(s.map(function(e){return e(o)})):s[0](o)).then(function(e){try{n._actionSubscribers.filter(function(e){return e.after}).forEach(function(e){return e.after(a,n.state)})}catch(e){}return e})}},Store.prototype.subscribe=function(e){return genericSubscribe(e,this._subscribers)},Store.prototype.subscribeAction=function(e){return genericSubscribe("function"==typeof e?{before:e}:e,this._actionSubscribers)},Store.prototype.watch=function(e,t,n){var i=this;return this._watcherVM.$watch(function(){return e(i.state,i.getters)},t,n)},Store.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm._data.$$state=e})},Store.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"==typeof e&&(e=[e]),this._modules.register(e,t),installModule(this,this.state,e,this._modules.get(e),n.preserveState),resetStoreVM(this,this.state)},Store.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var n=getNestedState(t.state,e.slice(0,-1));Vue$1.delete(n,e[e.length-1])}),resetStore(this)},Store.prototype.hotUpdate=function(e){this._modules.update(e),resetStore(this,!0)},Store.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Store.prototype,prototypeAccessors$1);var mapState=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(t){var i=t.key,r=t.val;n[i]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=getModuleByNamespace(this.$store,"mapState",e);if(!i)return;t=i.context.state,n=i.context.getters}return"function"==typeof r?r.call(this,t,n):t[r]},n[i].vuex=!0}),n}),mapMutations=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.commit;if(e){var o=getModuleByNamespace(this.$store,"mapMutations",e);if(!o)return;i=o.context.commit}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}}),n}),mapGetters=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(t){var i=t.key,r=t.val;r=e+r,n[i]=function(){if(!e||getModuleByNamespace(this.$store,"mapGetters",e))return this.$store.getters[r]},n[i].vuex=!0}),n}),mapActions=normalizeNamespace(function(e,t){var n={};return normalizeMap(t).forEach(function(t){var i=t.key,r=t.val;n[i]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];var i=this.$store.dispatch;if(e){var o=getModuleByNamespace(this.$store,"mapActions",e);if(!o)return;i=o.context.dispatch}return"function"==typeof r?r.apply(this,[i].concat(t)):i.apply(this.$store,[r].concat(t))}}),n}),createNamespacedHelpers=function(e){return{mapState:mapState.bind(null,e),mapGetters:mapGetters.bind(null,e),mapMutations:mapMutations.bind(null,e),mapActions:mapActions.bind(null,e)}};function normalizeMap(e){return Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function normalizeNamespace(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function getModuleByNamespace(e,t,n){return e._modulesNamespaceMap[n]}var index_esm={Store:Store,install:install,version:"3.1.1",mapState:mapState,mapMutations:mapMutations,mapGetters:mapGetters,mapActions:mapActions,createNamespacedHelpers:createNamespacedHelpers};const{mapGetters:mapGetters$1,mapActions:mapActions$1}=createNamespacedHelpers("KnowledgeBase");var script$3={name:"RecordsList",components:{Icon:Icon},props:{data:{type:Array,default:[]},title:{type:String,default:""}},data:()=>({pagination:{rowsPerPage:0},columns:[{name:"desc",required:!0,label:"Title",align:"left",field:e=>e.subject,format:e=>`${e}`,sortable:!0},{name:"short_time",align:"center",label:"Short time",field:"short_time",sortable:!0},{name:"introduction",align:"center",label:"Introduction",field:"introduction",sortable:!0}]}),computed:{...mapGetters$1(["tree","iconSize","moduleName"]),hasData(){return this.data.length}},methods:{...mapActions$1(["fetchRecord"]),onClickRecord(e){this.fetchRecord(e).then(()=>{this.$emit("onClickRecord",e)})}}};const __vue_script__$3=script$3;var __vue_render__$3=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"KnowledgeBase__RecordsList"},[n("q-table",{attrs:{data:e.data,columns:e.columns,"row-key":"subject",grid:"","hide-header":"",pagination:e.pagination,title:e.title},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("q-list",{staticClass:"full-width",attrs:{padding:""},on:{click:function(n){return n.preventDefault(),e.onClickRecord(t.row.id)}}},[n("q-item",{attrs:{clickable:""}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"mdi-text"}})],1),e._v(" "),n("q-item-section",[n("q-item-label",{staticClass:"text-primary"},[n("a",{staticClass:"js-popover-tooltip--record",attrs:{href:"index.php?module="+e.moduleName+"&view=Detail&record="+t.row.id}},[e._v("\n                "+e._s(t.row.subject)+"\n              ")])]),e._v(" "),n("q-item-label",{staticClass:"flex items-center",attrs:{overline:""}},[n("q-breadcrumbs",{staticClass:"mr-2 text-grey-8",attrs:{"active-color":"grey-8"}},[e._l(e.tree.categories[t.row.category].parentTree,function(t){return n("q-breadcrumbs-el",{key:e.tree.categories[t].label},[e.tree.categories[t].icon?n("icon",{staticClass:"q-mr-sm",attrs:{size:e.iconSize,icon:e.tree.categories[t].icon}}):e._e(),e._v("\n                  "+e._s(e.tree.categories[t].label)+"\n                ")],1)}),e._v(" "),n("q-tooltip",[e._v("\n                  "+e._s(e.translate("JS_CATEGORY"))+"\n                ")])],2),e._v("\n              | "+e._s(e.translate("JS_AUTHORED_BY"))+":\n              "),n("span",{staticClass:"q-ml-sm",domProps:{innerHTML:e._s(t.row.assigned_user_id)}})],1),e._v(" "),n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.row.introduction))])],1),e._v(" "),n("q-item-section",{attrs:{side:"",top:""}},[n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.row.short_time))]),e._v(" "),n("q-tooltip",[e._v("\n              "+e._s(t.row.full_time)+"\n            ")])],1)],1)],1)]}},{key:"bottom",fn:function(e){}}])}),e._v(" "),n("div",{class:["flex items-center q-px-lg q-py-sm",e.hasData?"hidden":""]},[n("q-icon",{staticClass:"q-mr-sm",attrs:{name:"mdi-alert-outline"}}),e._v("\n    "+e._s(e.translate("JS_NO_RESULTS_FOUND"))+"\n  ")],1)],1)},__vue_staticRenderFns__$3=[];__vue_render__$3._withStripped=!0;const __vue_inject_styles__$3=function(e){e&&e("data-v-790b7880_0",{source:"\n.KnowledgeBase__RecordsList .q-table__bottom {\n  display: none !important;\n}\n",map:{version:3,sources:["C:\\www\\YetiForceCRM\\public_html\\src\\layouts\\resources\\views\\KnowledgeBase\\components\\RecordsList.vue"],names:[],mappings:";AAiIA;EACA,wBAAA;AACA",file:"RecordsList.vue",sourcesContent:['\x3c!--\n/**\n * RecordsList component\n *\n * @description Records list component\n * @license YetiForce Public License 3.0\n * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>\n */\n--\x3e\n<template>\n  <div class="KnowledgeBase__RecordsList">\n    <q-table\n      :data="data"\n      :columns="columns"\n      row-key="subject"\n      grid\n      hide-header\n      :pagination.sync="pagination"\n      :title="title"\n    >\n      <template v-slot:item="props">\n        <q-list class="full-width" padding @click.prevent="onClickRecord(props.row.id)">\n          <q-item clickable>\n            <q-item-section avatar>\n              <q-icon name="mdi-text" />\n            </q-item-section>\n            <q-item-section>\n              <q-item-label class="text-primary">\n                <a\n                  class="js-popover-tooltip--record"\n                  :href="`index.php?module=${moduleName}&view=Detail&record=${props.row.id}`"\n                >\n                  {{ props.row.subject }}\n                </a>\n              </q-item-label>\n              <q-item-label class="flex items-center" overline>\n                <q-breadcrumbs class="mr-2 text-grey-8" active-color="grey-8">\n                  <q-breadcrumbs-el\n                    v-for="category in tree.categories[props.row.category].parentTree"\n                    :key="tree.categories[category].label"\n                  >\n                    <icon\n                      v-if="tree.categories[category].icon"\n                      :size="iconSize"\n                      :icon="tree.categories[category].icon"\n                      class="q-mr-sm"\n                    />\n                    {{ tree.categories[category].label }}\n                  </q-breadcrumbs-el>\n                  <q-tooltip>\n                    {{ translate(\'JS_CATEGORY\') }}\n                  </q-tooltip>\n                </q-breadcrumbs>\n                | {{ translate(\'JS_AUTHORED_BY\') }}:\n                <span v-html="props.row.assigned_user_id" class="q-ml-sm"></span>\n              </q-item-label>\n              <q-item-label caption>{{ props.row.introduction }}</q-item-label>\n            </q-item-section>\n            <q-item-section side top>\n              <q-item-label caption>{{ props.row.short_time }}</q-item-label>\n              <q-tooltip>\n                {{ props.row.full_time }}\n              </q-tooltip>\n            </q-item-section>\n          </q-item>\n        </q-list>\n      </template>\n      <template v-slot:bottom="props"> </template>\n    </q-table>\n    <div :class="[\'flex items-center q-px-lg q-py-sm\', hasData ? \'hidden\' : \'\']">\n      <q-icon name="mdi-alert-outline" class="q-mr-sm"></q-icon>\n      {{ translate(\'JS_NO_RESULTS_FOUND\') }}\n    </div>\n  </div>\n</template>\n<script>\nimport Icon from \'../../../../../components/Icon.vue\'\nimport { createNamespacedHelpers } from \'vuex\'\nconst { mapGetters, mapActions } = createNamespacedHelpers(\'KnowledgeBase\')\nexport default {\n  name: \'RecordsList\',\n  components: { Icon },\n  props: {\n    data: {\n      type: Array,\n      default: []\n    },\n    title: {\n      type: String,\n      default: \'\'\n    }\n  },\n  data() {\n    return {\n      pagination: {\n        rowsPerPage: 0\n      },\n      columns: [\n        {\n          name: \'desc\',\n          required: true,\n          label: \'Title\',\n          align: \'left\',\n          field: row => row.subject,\n          format: val => `${val}`,\n          sortable: true\n        },\n        { name: \'short_time\', align: \'center\', label: \'Short time\', field: \'short_time\', sortable: true },\n        { name: \'introduction\', align: \'center\', label: \'Introduction\', field: \'introduction\', sortable: true }\n      ]\n    }\n  },\n  computed: {\n    ...mapGetters([\'tree\', \'iconSize\', \'moduleName\']),\n    hasData() {\n      return this.data.length\n    }\n  },\n  methods: {\n    ...mapActions([\'fetchRecord\']),\n    onClickRecord(id) {\n      this.fetchRecord(id).then(() => {\n        this.$emit(\'onClickRecord\', id)\n      })\n    }\n  }\n}\n<\/script>\n<style>\n.KnowledgeBase__RecordsList .q-table__bottom {\n  display: none !important;\n}\n</style>\n']},media:void 0})},__vue_scope_id__$3=void 0,__vue_module_identifier__$3=void 0,__vue_is_functional_template__$3=!1;var RecordsList=normalizeComponent_1({render:__vue_render__$3,staticRenderFns:__vue_staticRenderFns__$3},__vue_inject_styles__$3,__vue_script__$3,void 0,!1,void 0,browser,void 0);function unwrapExports(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var dist=createCommonjsModule(function(e,t){window,e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=44)}({0:function(e,t,n){var i=n(16);"string"==typeof i&&(i=[[e.i,i,""]]);var r={transform:void 0};n(5)(i,r),i.locals&&(e.exports=i.locals)},1:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i={y:{t:"top",m:"marginTop",b:"bottom"},x:{l:"left",m:"marginLeft",r:"right"}};t.default={name:"vue-drag-resize",props:{parentScaleX:{type:Number,default:1},parentScaleY:{type:Number,default:1},isActive:{type:Boolean,default:!1},preventActiveBehavior:{type:Boolean,default:!1},isDraggable:{type:Boolean,default:!0},isResizable:{type:Boolean,default:!0},aspectRatio:{type:Boolean,default:!1},parentLimitation:{type:Boolean,default:!1},parentW:{type:Number,default:0,validator:function(e){return e>=0}},parentH:{type:Number,default:0,validator:function(e){return e>=0}},w:{type:Number,default:100,validator:function(e){return e>0}},h:{type:Number,default:100,validator:function(e){return e>0}},minw:{type:Number,default:50,validator:function(e){return e>0}},minh:{type:Number,default:50,validator:function(e){return e>0}},x:{type:Number,default:0,validator:function(e){return"number"==typeof e}},y:{type:Number,default:0,validator:function(e){return"number"==typeof e}},z:{type:[String,Number],default:"auto",validator:function(e){return"string"==typeof e?"auto"===e:e>=0}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},sticks:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]}},axis:{type:String,default:"both",validator:function(e){return-1!==["x","y","both","none"].indexOf(e)}}},data:function(){return{active:this.isActive,rawWidth:this.w,rawHeight:this.h,rawLeft:this.x,rawTop:this.y,rawRight:null,rawBottom:null,zIndex:this.z,aspectFactor:this.w/this.h,parentWidth:null,parentHeight:null,left:this.x,top:this.y,right:null,bottom:null,minWidth:this.minw,minHeight:this.minh}},created:function(){this.stickDrag=!1,this.bodyDrag=!1,this.stickAxis=null,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.currentStick=[]},mounted:function(){if(this.parentElement=this.$el.parentNode,this.parentWidth=this.parentW?this.parentW:this.parentElement.clientWidth,this.parentHeight=this.parentH?this.parentH:this.parentElement.clientHeight,this.rawRight=this.parentWidth-this.rawWidth-this.rawLeft,this.rawBottom=this.parentHeight-this.rawHeight-this.rawTop,document.documentElement.addEventListener("mousemove",this.move),document.documentElement.addEventListener("mouseup",this.up),document.documentElement.addEventListener("mouseleave",this.up),document.documentElement.addEventListener("mousedown",this.deselect),document.documentElement.addEventListener("touchmove",this.move,!0),document.documentElement.addEventListener("touchend touchcancel",this.up,!0),document.documentElement.addEventListener("touchstart",this.up,!0),this.dragHandle){var e=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragHandle));for(var t in e)e[t].setAttribute("data-drag-handle",this._uid)}if(this.dragCancel){var n=Array.prototype.slice.call(this.$el.querySelectorAll(this.dragCancel));for(var i in n)n[i].setAttribute("data-drag-cancel",this._uid)}},beforeDestroy:function(){document.documentElement.removeEventListener("mousemove",this.move),document.documentElement.removeEventListener("mouseup",this.up),document.documentElement.removeEventListener("mouseleave",this.up),document.documentElement.removeEventListener("mousedown",this.deselect),document.documentElement.removeEventListener("touchmove",this.move,!0),document.documentElement.removeEventListener("touchend touchcancel",this.up,!0),document.documentElement.removeEventListener("touchstart",this.up,!0)},methods:{deselect:function(){this.preventActiveBehavior||(this.active=!1)},move:function(e){(this.stickDrag||this.bodyDrag)&&(e.stopPropagation(),this.stickDrag&&this.stickMove(e),this.bodyDrag&&this.bodyMove(e))},up:function(e){this.stickDrag&&this.stickUp(e),this.bodyDrag&&this.bodyUp(e)},bodyDown:function(e){var t=e.target||e.srcElement;this.preventActiveBehavior||(this.active=!0),e.button&&0!==e.button||(this.$emit("clicked",e),this.isDraggable&&this.active&&(this.dragHandle&&t.getAttribute("data-drag-handle")!==this._uid.toString()||this.dragCancel&&t.getAttribute("data-drag-cancel")===this._uid.toString()||(this.bodyDrag=!0,this.stickStartPos.mouseX=e.pageX||e.touches[0].pageX,this.stickStartPos.mouseY=e.pageY||e.touches[0].pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.parentLimitation&&(this.limits=this.calcDragLimitation()))))},calcDragLimitation:function(){var e=this.parentWidth,t=this.parentHeight;return{minLeft:0,maxLeft:e-this.width,minRight:0,maxRight:e-this.width,minTop:0,maxTop:t-this.height,minBottom:0,maxBottom:t-this.height}},bodyMove:function(e){var t=this.stickStartPos,n={x:("y"!==this.axis&&"none"!==this.axis?t.mouseX-(e.pageX||e.touches[0].pageX):0)/this.parentScaleX,y:("x"!==this.axis&&"none"!==this.axis?t.mouseY-(e.pageY||e.touches[0].pageY):0)/this.parentScaleY};this.rawTop=t.top-n.y,this.rawBottom=t.bottom+n.y,this.rawLeft=t.left-n.x,this.rawRight=t.right+n.x,this.$emit("dragging",this.rect)},bodyUp:function(){this.bodyDrag=!1,this.$emit("dragging",this.rect),this.$emit("dragstop",this.rect),this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},stickDown:function(e,t){if(this.isResizable&&this.active){switch(this.stickDrag=!0,this.stickStartPos.mouseX=t.pageX||t.touches[0].pageX,this.stickStartPos.mouseY=t.pageY||t.touches[0].pageY,this.stickStartPos.left=this.left,this.stickStartPos.right=this.right,this.stickStartPos.top=this.top,this.stickStartPos.bottom=this.bottom,this.currentStick=e.split(""),this.stickAxis=null,this.currentStick[0]){case"b":case"t":this.stickAxis="y"}switch(this.currentStick[1]){case"r":case"l":this.stickAxis="y"===this.stickAxis?"xy":"x"}this.limits=this.calcResizeLimitation()}},calcResizeLimitation:function(){var e=this.minWidth,t=this.minHeight,n=this.aspectFactor,i=this.width,r=this.height,o=this.bottom,a=this.top,s=this.left,c=this.right,l=this.stickAxis,d=this.parentLimitation?0:null;this.aspectRatio&&(e/t>n?t=e/n:e=n*t);var u={minLeft:d,maxLeft:s+(i-e),minRight:d,maxRight:c+(i-e),minTop:d,maxTop:a+(r-t),minBottom:d,maxBottom:o+(r-t)};if(this.aspectRatio){var m={minLeft:s-Math.min(a,o)*n*2,maxLeft:s+(r-t)/2*n*2,minRight:c-Math.min(a,o)*n*2,maxRight:c+(r-t)/2*n*2,minTop:a-Math.min(s,c)/n*2,maxTop:a+(i-e)/2/n*2,minBottom:o-Math.min(s,c)/n*2,maxBottom:o+(i-e)/2/n*2};"x"===l?u={minLeft:Math.max(u.minLeft,m.minLeft),maxLeft:Math.min(u.maxLeft,m.maxLeft),minRight:Math.max(u.minRight,m.minRight),maxRight:Math.min(u.maxRight,m.maxRight)}:"y"===l&&(u={minTop:Math.max(u.minTop,m.minTop),maxTop:Math.min(u.maxTop,m.maxTop),minBottom:Math.max(u.minBottom,m.minBottom),maxBottom:Math.min(u.maxBottom,m.maxBottom)})}return u},stickMove:function(e){var t=this.stickStartPos,n={x:(t.mouseX-(e.pageX||e.touches[0].pageX))/this.parentScaleX,y:(t.mouseY-(e.pageY||e.touches[0].pageY))/this.parentScaleY};switch(this.currentStick[0]){case"b":this.rawBottom=t.bottom+n.y;break;case"t":this.rawTop=t.top-n.y}switch(this.currentStick[1]){case"r":this.rawRight=t.right+n.x;break;case"l":this.rawLeft=t.left-n.x}this.$emit("resizing",this.rect)},stickUp:function(){this.stickDrag=!1,this.stickStartPos={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.limits={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null},this.rawTop=this.top,this.rawBottom=this.bottom,this.rawLeft=this.left,this.rawRight=this.right,this.stickAxis=null,this.$emit("resizing",this.rect),this.$emit("resizestop",this.rect)},aspectRatioCorrection:function(){if(this.aspectRatio){var e=this.bottom,t=this.top,n=this.left,i=this.right,r=this.width,o=this.height,a=this.aspectFactor,s=this.currentStick;if(r/o>a){var c=a*o;"l"===s[1]?this.left=n+r-c:this.right=i+r-c}else{var l=r/a;"t"===s[0]?this.top=t+o-l:this.bottom=e+o-l}}}},computed:{style:function(){return{top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex}},vdrStick:function(){var e=this;return function(t){var n={width:8/e.parentScaleX+"px",height:8/e.parentScaleY+"px"};return n[i.y[t[0]]]=8/e.parentScaleX/-2+"px",n[i.x[t[1]]]=8/e.parentScaleX/-2+"px",n}},width:function(){return this.parentWidth-this.left-this.right},height:function(){return this.parentHeight-this.top-this.bottom},rect:function(){return{left:Math.round(this.left),top:Math.round(this.top),width:Math.round(this.width),height:Math.round(this.height)}}},watch:{rawLeft:function(e){var t=this.limits,n=this.stickAxis,i=this.aspectFactor,r=this.aspectRatio,o=this.left,a=this.bottom,s=this.top;if(null!==t.minLeft&&e<t.minLeft?e=t.minLeft:null!==t.maxLeft&&t.maxLeft<e&&(e=t.maxLeft),r&&"x"===n){var c=o-e;this.rawTop=s-c/i/2,this.rawBottom=a-c/i/2}this.left=e},rawRight:function(e){var t=this.limits,n=this.stickAxis,i=this.aspectFactor,r=this.aspectRatio,o=this.right,a=this.bottom,s=this.top;if(null!==t.minRight&&e<t.minRight?e=t.minRight:null!==t.maxRight&&t.maxRight<e&&(e=t.maxRight),r&&"x"===n){var c=o-e;this.rawTop=s-c/i/2,this.rawBottom=a-c/i/2}this.right=e},rawTop:function(e){var t=this.limits,n=this.stickAxis,i=this.aspectFactor,r=this.aspectRatio,o=this.right,a=this.left,s=this.top;if(null!==t.minTop&&e<t.minTop?e=t.minTop:null!==t.maxTop&&t.maxTop<e&&(e=t.maxTop),r&&"y"===n){var c=s-e;this.rawLeft=a-c*i/2,this.rawRight=o-c*i/2}this.top=e},rawBottom:function(e){var t=this.limits,n=this.stickAxis,i=this.aspectFactor,r=this.aspectRatio,o=this.right,a=this.left,s=this.bottom;if(null!==t.minBottom&&e<t.minBottom?e=t.minBottom:null!==t.maxBottom&&t.maxBottom<e&&(e=t.maxBottom),r&&"y"===n){var c=s-e;this.rawLeft=a-c*i/2,this.rawRight=o-c*i/2}this.bottom=e},width:function(){this.aspectRatioCorrection()},height:function(){this.aspectRatioCorrection()},active:function(e){e?this.$emit("activated"):this.$emit("deactivated")},isActive:function(e){this.active=e},z:function(e){(e>=0||"auto"===e)&&(this.zIndex=e)},aspectRatio:function(e){e&&(this.aspectFactor=this.width/this.height)},minw:function(e){e>0&&e<=this.width&&(this.minWidth=e)},minh:function(e){e>0&&e<=this.height&&(this.minHeight=e)},x:function(){if(!this.stickDrag&&!this.bodyDrag){this.parentLimitation&&(this.limits=this.calcDragLimitation());var e=this.x-this.left;this.rawLeft=this.x,this.rawRight=this.right-e}},y:function(){if(!this.stickDrag&&!this.bodyDrag){this.parentLimitation&&(this.limits=this.calcDragLimitation());var e=this.y-this.top;this.rawTop=this.y,this.rawBottom=this.bottom-e}},w:function(){if(!this.stickDrag&&!this.bodyDrag){this.currentStick=["m","r"],this.stickAxis="x",this.parentLimitation&&(this.limits=this.calcResizeLimitation());var e=this.width-this.w;this.rawRight=this.right+e}},h:function(){if(!this.stickDrag&&!this.bodyDrag){this.currentStick=["b","m"],this.stickAxis="y",this.parentLimitation&&(this.limits=this.calcResizeLimitation());var e=this.height-this.h;this.rawBottom=this.bottom+e}},parentW:function(e){this.right=e-this.width-this.left,this.parentWidth=e},parentH:function(e){this.bottom=e-this.height-this.top,this.parentHeight=e}}}},15:function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},16:function(e,t,n){(e.exports=n(6)(!1)).push([e.i,'\n.vdr,.vdr.active:before{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box\n}\n.vdr.active:before{content:"";width:100%;height:100%;top:0;left:0;outline:1px dashed #d6d6d6\n}\n.vdr-stick{-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;font-size:1px;background:#fff;border:1px solid #6c6c6c;-webkit-box-shadow:0 0 2px #bbb;box-shadow:0 0 2px #bbb\n}\n.inactive .vdr-stick{display:none\n}\n.vdr-stick-br,.vdr-stick-tl{cursor:nwse-resize\n}\n.vdr-stick-bm,.vdr-stick-tm{left:50%;cursor:ns-resize\n}\n.vdr-stick-bl,.vdr-stick-tr{cursor:nesw-resize\n}\n.vdr-stick-ml,.vdr-stick-mr{top:50%;cursor:ew-resize\n}\n.vdr-stick.not-resizable{display:none\n}',""])},17:function(e,t,n){var i=n(0),r=n.n(i);r.a},18:function(e,t,n){n.r(t);var i=n(4),r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var a=(n(17),n(3)),s=Object(a.a)(r.default,i.a,i.b,!1,null,null,null);s.options.__file="src/components/vue-drag-resize.vue",t.default=s.exports},2:function(e,t,n){n.r(t);var i=n(1),r=n.n(i);for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);t.default=r.a},3:function(e,t,n){function i(e,t,n,i,r,o,a,s){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),a?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},l._ssrRegister=c):r&&(c=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:l}}n.d(t,"a",function(){return i})},4:function(e,t,n){var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vdr",class:e.active||e.isActive?"active":"inactive",style:e.style,on:{mousedown:function(t){t.stopPropagation(),t.preventDefault(),e.bodyDown(t)},touchstart:function(t){t.stopPropagation(),t.preventDefault(),e.bodyDown(t)}}},[e._t("default"),e._v(" "),e._l(e.sticks,function(t){return n("div",{staticClass:"vdr-stick",class:["vdr-stick-"+t,e.isResizable?"":"not-resizable"],style:e.vdrStick(t),on:{mousedown:function(n){n.stopPropagation(),n.preventDefault(),e.stickDown(t,n)},touchstart:function(n){n.stopPropagation(),n.preventDefault(),e.stickDown(t,n)}}})})],2)},r=[];i._withStripped=!0,n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r})},44:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(18);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function(e){return e&&e.__esModule?e:{default:e}}(i).default}})},5:function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=m[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(d(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(d(i.parts[o],t));m[i.id]={id:i.id,refs:1,parts:a}}}}function r(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s=o[1],c=o[2],l=o[3],d={css:s,media:c,sourceMap:l};i[a]?i[a].parts.push(d):n.push(i[a]={id:a,parts:[d]})}return n}function o(e,t){var n=h(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=_[_.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),_.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),o(e,t),t}function c(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),o(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function d(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var l=f++;n=v||(v=s(t)),i=u.bind(null,n,l,!1),r=u.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),i=function(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=g(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=function(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function u(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}var m={},p=function(e){var t;return function(){return void 0===t&&(t=function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments)),t}}(),h=function(e){var t={};return function(e){return void 0===t[e]&&(t[e]=function(e){return document.querySelector(e)}.call(this,e)),t[e]}}(),v=null,f=0,_=[],g=n(15);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=p()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],c=m[s.id];c.refs--,o.push(c)}e&&i(r(e,t),t);for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete m[c.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},6:function(e,t){function n(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i);return[n].concat(i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"})).concat([r]).join("\n")}return[n].join("\n")}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}}})}),VueDragResize=unwrapExports(dist),dist_1=dist.VueDragResize;const{mapGetters:mapGetters$2}=createNamespacedHelpers("KnowledgeBase");var script$4={name:"DragResize",components:{VueDragResize:VueDragResize},props:{maximized:{type:Boolean,required:!0},coordinates:{type:Object,required:!0}},data:()=>({active:!1}),methods:{resize(e){this.coordinates={width:e.width,height:e.height,top:e.top,left:e.left},this.$emit("onChangeCoordinates",this.coordinates)},onActivated(){$(this.$refs.resize.$el).find(".vdr-stick").addClass("mdi mdi-resize-bottom-right q-btn q-btn--dense q-btn--round q-icon contrast-50")},onFocusElement(e){e.target.focus()}},mounted(){this.active=!0}};const __vue_script__$4=script$4;var __vue_render__$4=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.$q.platform.is.desktop?n("vue-drag-resize",{ref:"resize",class:[e.maximized?"fit position-sticky":"modal-mini","overflow-hidden"],attrs:{isActive:e.active,isResizable:!0,isDraggable:!e.maximized,dragHandle:".js-drag",sticks:["br"],x:e.coordinates.left,y:e.coordinates.top,w:e.coordinates.width,h:e.coordinates.height},on:{activated:e.onActivated,resizing:e.resize,dragging:e.resize}},[n("div",{staticClass:"fit",on:{mousedown:function(t){return e.onFocusElement(t)},touchstart:function(t){return e.onFocusElement(t)}}},[e._t("default")],2)]):n("div",{staticClass:"fit"},[e._t("default")],2)],1)},__vue_staticRenderFns__$4=[];__vue_render__$4._withStripped=!0;const __vue_inject_styles__$4=function(e){e&&e("data-v-48d81b3d_0",{source:"\n.modal-mini {\r\n  max-height: unset !important;\r\n  max-width: unset !important;\n}\n.vdr-stick.q-icon:before {\r\n  font-size: 1.718em;\r\n  left: -5px;\r\n  position: relative;\r\n  bottom: 5px;\n}\n.vdr-stick.q-icon {\r\n  bottom: 9px !important;\r\n  right: 25px !important;\r\n  font-size: 14px;\r\n  background: none;\r\n  border: none;\r\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2), 0 2px 2px rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12);\r\n  display: none;\r\n  cursor: nwse-resize !important;\r\n  position: absolute !important;\n}\n.vdr.active {\r\n  font-weight: unset;\n}\n.modal-mini .vdr-stick {\r\n  display: inline-flex;\n}\r\n",map:{version:3,sources:["C:\\www\\YetiForceCRM\\public_html\\src\\layouts\\resources\\views\\KnowledgeBase\\components\\DragResize.vue"],names:[],mappings:";AAsFA;EACA,4BAAA;EACA,2BAAA;AACA;AACA;EACA,kBAAA;EACA,UAAA;EACA,kBAAA;EACA,WAAA;AACA;AACA;EACA,sBAAA;EACA,sBAAA;EACA,eAAA;EACA,gBAAA;EACA,YAAA;EACA,2GAAA;EACA,aAAA;EACA,8BAAA;EACA,6BAAA;AACA;AACA;EACA,kBAAA;AACA;AACA;EACA,oBAAA;AACA",file:"DragResize.vue",sourcesContent:['\x3c!--\r\n/**\r\n * DragResize component\r\n *\r\n * @description Use of vue-drag-resize\r\n * @license YetiForce Public License 3.0\r\n * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>\r\n */\r\n--\x3e\r\n<template>\r\n  <div>\r\n    <vue-drag-resize\r\n      v-if="$q.platform.is.desktop"\r\n      :isActive="active"\r\n      @activated="onActivated"\r\n      :isResizable="true"\r\n      :isDraggable="!maximized"\r\n      v-on:resizing="resize"\r\n      v-on:dragging="resize"\r\n      dragHandle=".js-drag"\r\n      :sticks="[\'br\']"\r\n      :x="coordinates.left"\r\n      :y="coordinates.top"\r\n      :w="coordinates.width"\r\n      :h="coordinates.height"\r\n      :class="[maximized ? \'fit position-sticky\' : \'modal-mini\', \'overflow-hidden\']"\r\n      ref="resize"\r\n    >\r\n      <div class="fit" @mousedown="onFocusElement($event)" @touchstart="onFocusElement($event)">\r\n        <slot></slot>\r\n      </div>\r\n    </vue-drag-resize>\r\n    <div class="fit" v-else>\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VueDragResize from \'vue-drag-resize\'\r\nimport { createNamespacedHelpers } from \'vuex\'\r\nconst { mapGetters } = createNamespacedHelpers(\'KnowledgeBase\')\r\nexport default {\r\n  name: \'DragResize\',\r\n  components: { VueDragResize },\r\n  props: {\r\n    maximized: {\r\n      type: Boolean,\r\n      required: true\r\n    },\r\n    coordinates: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      active: false\r\n    }\r\n  },\r\n  methods: {\r\n    resize(newRect) {\r\n      this.coordinates = {\r\n        width: newRect.width,\r\n        height: newRect.height,\r\n        top: newRect.top,\r\n        left: newRect.left\r\n      }\r\n      this.$emit(\'onChangeCoordinates\', this.coordinates)\r\n    },\r\n    onActivated() {\r\n      $(this.$refs.resize.$el)\r\n        .find(\'.vdr-stick\')\r\n        .addClass(\'mdi mdi-resize-bottom-right q-btn q-btn--dense q-btn--round q-icon contrast-50\')\r\n    },\r\n    onFocusElement(event) {\r\n      event.target.focus()\r\n    }\r\n  },\r\n  mounted() {\r\n    this.active = true\r\n  }\r\n}\r\n<\/script>\r\n\r\n<style>\r\n.modal-mini {\r\n  max-height: unset !important;\r\n  max-width: unset !important;\r\n}\r\n.vdr-stick.q-icon:before {\r\n  font-size: 1.718em;\r\n  left: -5px;\r\n  position: relative;\r\n  bottom: 5px;\r\n}\r\n.vdr-stick.q-icon {\r\n  bottom: 9px !important;\r\n  right: 25px !important;\r\n  font-size: 14px;\r\n  background: none;\r\n  border: none;\r\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.2), 0 2px 2px rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.12);\r\n  display: none;\r\n  cursor: nwse-resize !important;\r\n  position: absolute !important;\r\n}\r\n.vdr.active {\r\n  font-weight: unset;\r\n}\r\n.modal-mini .vdr-stick {\r\n  display: inline-flex;\r\n}\r\n</style>\r\n']},media:void 0})},__vue_scope_id__$4=void 0,__vue_module_identifier__$4=void 0,__vue_is_functional_template__$4=!1;var DragResize=normalizeComponent_1({render:__vue_render__$4,staticRenderFns:__vue_staticRenderFns__$4},__vue_inject_styles__$4,__vue_script__$4,void 0,!1,void 0,browser,void 0);const{mapGetters:mapGetters$3,mapActions:mapActions$2}=createNamespacedHelpers("KnowledgeBase");var script$5={name:"RecordPreviewContent",components:{Icon:Icon,Carousel:Carousel,RecordsList:RecordsList},props:{height:{type:Number,default:0},previewMaximized:{type:Boolean,true:0}},computed:{...mapGetters$3(["tree","record","iconSize"]),hasRelatedRecords(){if(this.record)return Object.keys(this.record.related.dynamic).some(e=>void 0===this.record.related.dynamic[e].length)},relatedColClass(){if(this.record){let e=0,t="col";return Object.keys(this.record.related.dynamic).forEach(t=>{void 0===this.record.related.dynamic[t].length&&e++}),2===e?t="col-sm-6":3===e&&(t="col-sm-6 col-md-4"),t}},hasRelatedArticles(){return!!this.record&&0!==this.record.related.base.Articles.length},hasRelatedComments(){return!!this.record&&0!==this.record.related.base.ModComments.length}},watch:{previewMaximized(){this.$emit("onMaximizedToggle",this.previewMaximized)}},methods:{...mapActions$2(["fetchCategories","fetchRecord","initState"]),onResize(e){void 0!==this.$refs.content&&$(this.$refs.content).find("img").css("max-width",e.width)}}};const __vue_script__$5=script$5;var __vue_render__$5=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-card",{staticClass:"KnowledgeBase__RecordPreview"},[n("q-bar",{staticClass:"bg-yeti text-white dialog-header",attrs:{dark:""}},[n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"flex items-center no-wrap ellipsis q-mr-sm-sm"},[n("q-icon",{staticClass:"q-mr-sm",attrs:{name:"mdi-text"}}),e._v("\n        "+e._s(e.record.subject)+"\n      ")],1),e._v(" "),n("div",{staticClass:"flex items-center text-grey-4 small"},[n("div",{staticClass:"flex items-center"},[n("q-icon",{attrs:{name:e.tree.topCategory.icon,size:"15px"}}),e._v(" "),n("q-icon",{attrs:{size:"1.5em",name:"mdi-chevron-right"}}),e._v(" "),n("span",{staticClass:"flex items-center",domProps:{innerHTML:e._s(e.record.category)}}),e._v(" "),n("q-tooltip",[e._v("\n            "+e._s(e.translate("JS_CATEGORY"))+"\n          ")])],1),e._v(" "),n("q-separator",{attrs:{dark:"",vertical:"",spaced:""}}),e._v(" "),n("div",[n("q-icon",{attrs:{name:"mdi-calendar-clock",size:"15px"}}),e._v("\n          "+e._s(e.record.short_createdtime)+"\n          "),n("q-tooltip",[e._v("\n            "+e._s(e.translate("JS_CREATED")+": "+e.record.full_createdtime)+"\n          ")])],1),e._v(" "),e.record.short_modifiedtime?[n("q-separator",{attrs:{dark:"",vertical:"",spaced:""}}),e._v(" "),n("div",[n("q-icon",{attrs:{name:"mdi-square-edit-outline",size:"15px"}}),e._v("\n            "+e._s(e.record.short_modifiedtime)+"\n            "),n("q-tooltip",[e._v("\n              "+e._s(e.translate("JS_MODIFIED")+": "+e.record.full_modifiedtime)+"\n            ")])],1)]:e._e()],2)]),e._v(" "),n("q-space"),e._v(" "),e._t("header-right",[e.$q.platform.is.desktop?[n("a",{directives:[{name:"show",rawName:"v-show",value:!e.previewMaximized,expression:"!previewMaximized"}],staticClass:"flex grabbable text-decoration-none text-white",attrs:{href:"#"}},[n("q-icon",{staticClass:"js-drag",attrs:{name:"mdi-drag",size:"19px"}})],1),e._v(" "),n("q-btn",{attrs:{dense:"",flat:"",icon:e.previewMaximized?"mdi-window-restore":"mdi-window-maximize"},on:{click:function(t){e.previewMaximized=!e.previewMaximized}}},[n("q-tooltip",[e._v(e._s(e.previewMaximized?e.translate("JS_MINIMIZE"):e.translate("JS_MAXIMIZE")))])],1)]:e._e(),e._v(" "),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"mdi-close"}},[n("q-tooltip",[e._v(e._s(e.translate("JS_CLOSE")))])],1)])],2),e._v(" "),n("q-card-section",{class:["scroll",e.previewMaximized?"modal-full-height":""],style:e.height?{"max-height":e.height-31.14+"px"}:{}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.record.introduction,expression:"record.introduction"}]},[n("div",{staticClass:"text-subtitle2 text-bold"},[e._v(e._s(e.record.introduction))])]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.record.content,expression:"record.content"}]},[n("q-resize-observer",{on:{resize:e.onResize}}),e._v(" "),n("div",{ref:"content"},["PLL_PRESENTATION"===e.record.view&&e.record.content.length>1?n("carousel",{attrs:{record:e.record}}):n("div",[n("q-separator"),e._v(" "),n("div",{domProps:{innerHTML:e._s("object"==typeof e.record.content?e.record.content[0]:e.record.content)}})],1)],1)],1),e._v(" "),e.hasRelatedArticles?n("div",[n("q-separator"),e._v(" "),e.record.related?n("records-list",{attrs:{data:e.record.related.base.Articles,title:e.translate("JS_RELATED_ARTICLES")}}):e._e()],1):e._e(),e._v(" "),e.hasRelatedRecords?n("div",[n("q-separator"),e._v(" "),n("div",{staticClass:"q-pa-md q-table__title"},[e._v(e._s(e.translate("JS_RELATED_RECORDS")))]),e._v(" "),n("div",{staticClass:"q-pa-sm row items-start q-col-gutter-md"},[e._l(e.record.related.dynamic,function(t,i){return[void 0===t.length?n("div",{key:i,class:[e.relatedColClass]},[n("q-list",{attrs:{bordered:"",padding:"",dense:""}},[n("q-item",{staticClass:"text-black flex",attrs:{header:"",clickable:""}},[n("icon",{staticClass:"mr-2",attrs:{icon:"userIcon-"+i,size:e.iconSize}}),e._v("\n                "+e._s(e.record.translations[i])+"\n              ")],1),e._v(" "),e._l(t,function(t,r){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,staticClass:"text-subtitle2",attrs:{clickable:""}},[n("q-item-section",{staticClass:"align-items-center flex-row no-wrap justify-content-start"},[n("a",{staticClass:"js-popover-tooltip--record ellipsis",attrs:{href:"index.php?module="+i+"&view=Detail&record="+r}},[e._v("\n                    "+e._s(t)+"\n                  ")])])],1)})],2)],1):e._e()]})],2)],1):e._e(),e._v(" "),e.hasRelatedComments?n("div",[n("q-separator"),e._v(" "),n("div",{staticClass:"q-pa-md q-table__title"},[e._v(e._s(e.translate("JS_COMMENTS")))]),e._v(" "),n("q-list",{attrs:{padding:""}},e._l(e.record.related.base.ModComments,function(t,i){return n("q-item",{key:i},[n("q-item-section",{attrs:{avatar:"",top:""}},[n("q-avatar",{attrs:{size:"iconSize"}},[void 0!==t.avatar.url?n("img",{attrs:{src:t.avatar.url}}):n("q-icon",{attrs:{name:"mdi-account"}})],1)],1),e._v(" "),n("q-item-section",[n("q-item-label",[n("a",{staticClass:"js-popover-tooltip--record",attrs:{href:"index.php?module=Users&view=Detail&record="+t.userid}},[e._v(e._s(t.userName)+"\n              ")])]),e._v(" "),n("q-item-label",[n("div",{domProps:{innerHTML:e._s(t.comment)}})])],1),e._v(" "),n("q-item-section",{attrs:{side:"",top:""}},[n("q-item-label",{attrs:{caption:""}},[e._v(e._s(t.modifiedShort))]),e._v(" "),n("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"}},[e._v("\n              "+e._s(e.translate("JS_MODIFIED")+": "+t.modifiedFull)+"\n            ")])],1)],1)}),1)],1):e._e()])],1)},__vue_staticRenderFns__$5=[];__vue_render__$5._withStripped=!0;const __vue_inject_styles__$5=function(e){e&&e("data-v-6c3901eb_0",{source:"\n.dialog-header {\n  padding-top: 3px !important;\n  padding-bottom: 3px !important;\n  height: unset !important;\n}\n.modal-full-height {\n  max-height: calc(100vh - 31.14px) !important;\n}\n.grabbable:hover {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n.contrast-50 {\n  filter: contrast(50%);\n}\n",map:{version:3,sources:["C:\\www\\YetiForceCRM\\public_html\\src\\layouts\\resources\\views\\KnowledgeBase\\components\\RecordPreviewContent.vue"],names:[],mappings:";AAkOA;EACA,2BAAA;EACA,8BAAA;EACA,wBAAA;AACA;AACA;EACA,4CAAA;AACA;AACA;EACA,YAAA;EACA,YAAA;EACA,iBAAA;EACA,oBAAA;AACA;AACA;EACA,gBAAA;EACA,qBAAA;EACA,wBAAA;AACA;AACA;EACA,qBAAA;AACA",file:"RecordPreviewContent.vue",sourcesContent:['\x3c!--\n/**\n * RecordPreviewContent component\n *\n * @description Part of q-dialog\n * @license YetiForce Public License 3.0\n * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>\n */\n--\x3e\n<template>\n  <q-card class="KnowledgeBase__RecordPreview">\n    <q-bar dark class="bg-yeti text-white dialog-header">\n      <div class="flex items-center">\n        <div class="flex items-center no-wrap ellipsis q-mr-sm-sm">\n          <q-icon name="mdi-text" class="q-mr-sm" />\n          {{ record.subject }}\n        </div>\n        <div class="flex items-center text-grey-4 small">\n          <div class="flex items-center">\n            <q-icon :name="tree.topCategory.icon" size="15px"></q-icon>\n            <q-icon size="1.5em" name="mdi-chevron-right" />\n            <span v-html="record.category" class="flex items-center"></span>\n            <q-tooltip>\n              {{ translate(\'JS_CATEGORY\') }}\n            </q-tooltip>\n          </div>\n          <q-separator dark vertical spaced />\n          <div>\n            <q-icon name="mdi-calendar-clock" size="15px"></q-icon>\n            {{ record.short_createdtime }}\n            <q-tooltip>\n              {{ translate(\'JS_CREATED\') + \': \' + record.full_createdtime }}\n            </q-tooltip>\n          </div>\n          <template v-if="record.short_modifiedtime">\n            <q-separator dark vertical spaced />\n            <div>\n              <q-icon name="mdi-square-edit-outline" size="15px"></q-icon>\n              {{ record.short_modifiedtime }}\n              <q-tooltip>\n                {{ translate(\'JS_MODIFIED\') + \': \' + record.full_modifiedtime }}\n              </q-tooltip>\n            </div>\n          </template>\n        </div>\n      </div>\n      <q-space />\n      <slot name="header-right">\n        <template v-if="$q.platform.is.desktop">\n          <a v-show="!previewMaximized" class="flex grabbable text-decoration-none text-white" href="#">\n            <q-icon class="js-drag" name="mdi-drag" size="19px" />\n          </a>\n          <q-btn\n            dense\n            flat\n            :icon="previewMaximized ? \'mdi-window-restore\' : \'mdi-window-maximize\'"\n            @click="previewMaximized = !previewMaximized"\n          >\n            <q-tooltip>{{ previewMaximized ? translate(\'JS_MINIMIZE\') : translate(\'JS_MAXIMIZE\') }}</q-tooltip>\n          </q-btn>\n        </template>\n        <q-btn dense flat icon="mdi-close" v-close-popup>\n          <q-tooltip>{{ translate(\'JS_CLOSE\') }}</q-tooltip>\n        </q-btn>\n      </slot>\n    </q-bar>\n    <q-card-section\n      :class="[\'scroll\', previewMaximized ? \'modal-full-height\' : \'\']"\n      :style="height ? { \'max-height\': `${height - 31.14}px` } : {}"\n    >\n      <div v-show="record.introduction">\n        <div class="text-subtitle2 text-bold">{{ record.introduction }}</div>\n      </div>\n      <div v-show="record.content">\n        <q-resize-observer @resize="onResize" />\n        <div ref="content">\n          <carousel v-if="record.view === \'PLL_PRESENTATION\' && record.content.length > 1" :record="record" />\n          <div v-else>\n            <q-separator />\n            <div v-html="typeof record.content === \'object\' ? record.content[0] : record.content"></div>\n          </div>\n        </div>\n      </div>\n      <div v-if="hasRelatedArticles">\n        <q-separator />\n        <records-list\n          v-if="record.related"\n          :data="record.related.base.Articles"\n          :title="translate(\'JS_RELATED_ARTICLES\')"\n        />\n      </div>\n      <div v-if="hasRelatedRecords">\n        <q-separator />\n        <div class="q-pa-md q-table__title">{{ translate(\'JS_RELATED_RECORDS\') }}</div>\n        <div class="q-pa-sm row items-start q-col-gutter-md">\n          <template v-for="(moduleRecords, parentModule) in record.related.dynamic">\n            <div v-if="moduleRecords.length === undefined" :class="[relatedColClass]" :key="parentModule">\n              <q-list bordered padding dense>\n                <q-item header clickable class="text-black flex">\n                  <icon :icon="\'userIcon-\' + parentModule" :size="iconSize" class="mr-2"></icon>\n                  {{ record.translations[parentModule] }}\n                </q-item>\n                <q-item\n                  clickable\n                  v-for="(relatedRecord, relatedRecordId) in moduleRecords"\n                  :key="relatedRecordId"\n                  class="text-subtitle2"\n                  v-ripple\n                >\n                  <q-item-section class="align-items-center flex-row no-wrap justify-content-start">\n                    <a\n                      class="js-popover-tooltip--record ellipsis"\n                      :href="`index.php?module=${parentModule}&view=Detail&record=${relatedRecordId}`"\n                    >\n                      {{ relatedRecord }}\n                    </a>\n                  </q-item-section>\n                </q-item>\n              </q-list>\n            </div>\n          </template>\n        </div>\n      </div>\n      <div v-if="hasRelatedComments">\n        <q-separator />\n        <div class="q-pa-md q-table__title">{{ translate(\'JS_COMMENTS\') }}</div>\n        <q-list padding>\n          <q-item v-for="(relatedRecord, relatedRecordId) in record.related.base.ModComments" :key="relatedRecordId">\n            <q-item-section avatar top>\n              <q-avatar size="iconSize">\n                <img v-if="relatedRecord.avatar.url !== undefined" :src="relatedRecord.avatar.url" />\n                <q-icon v-else name="mdi-account" />\n              </q-avatar>\n            </q-item-section>\n            <q-item-section>\n              <q-item-label>\n                <a\n                  class="js-popover-tooltip--record"\n                  :href="`index.php?module=Users&view=Detail&record=${relatedRecord.userid}`"\n                  >{{ relatedRecord.userName }}\n                </a>\n              </q-item-label>\n              <q-item-label><div v-html="relatedRecord.comment"></div></q-item-label>\n            </q-item-section>\n            <q-item-section side top>\n              <q-item-label caption>{{ relatedRecord.modifiedShort }}</q-item-label>\n              <q-tooltip anchor="top middle" self="center middle">\n                {{ translate(\'JS_MODIFIED\') + \': \' + relatedRecord.modifiedFull }}\n              </q-tooltip>\n            </q-item-section>\n          </q-item>\n        </q-list>\n      </div>\n    </q-card-section>\n  </q-card>\n</template>\n<script>\nimport Icon from \'../../../../../components/Icon.vue\'\nimport Carousel from \'./Carousel.vue\'\nimport RecordsList from \'./RecordsList.vue\'\nimport { createNamespacedHelpers } from \'vuex\'\nconst { mapGetters, mapActions } = createNamespacedHelpers(\'KnowledgeBase\')\nexport default {\n  name: \'RecordPreviewContent\',\n  components: { Icon, Carousel, RecordsList },\n  props: {\n    height: {\n      type: Number,\n      default: 0\n    },\n    previewMaximized: {\n      type: Boolean,\n      true: 0\n    }\n  },\n  computed: {\n    ...mapGetters([\'tree\', \'record\', \'iconSize\']),\n    hasRelatedRecords() {\n      if (this.record) {\n        return Object.keys(this.record.related.dynamic).some(obj => {\n          return this.record.related.dynamic[obj].length === undefined\n        })\n      }\n    },\n    relatedColClass() {\n      if (this.record) {\n        let relatedModules = 0\n        let relatedColClass = \'col\'\n        Object.keys(this.record.related.dynamic).forEach(key => {\n          if (this.record.related.dynamic[key].length === undefined) {\n            relatedModules++\n          }\n        })\n        if (relatedModules === 2) {\n          relatedColClass = \'col-sm-6\'\n        } else if (relatedModules === 3) {\n          relatedColClass = \'col-sm-6 col-md-4\'\n        }\n        return relatedColClass\n      }\n    },\n    hasRelatedArticles() {\n      return this.record ? this.record.related.base.Articles.length !== 0 : false\n    },\n    hasRelatedComments() {\n      return this.record ? this.record.related.base.ModComments.length !== 0 : false\n    }\n  },\n  watch: {\n    previewMaximized() {\n      this.$emit(\'onMaximizedToggle\', this.previewMaximized)\n    }\n  },\n  methods: {\n    ...mapActions([\'fetchCategories\', \'fetchRecord\', \'initState\']),\n    onResize(size) {\n      if (this.$refs.content !== undefined) {\n        $(this.$refs.content)\n          .find(\'img\')\n          .css(\'max-width\', size.width)\n      }\n    }\n  }\n}\n<\/script>\n<style>\n.dialog-header {\n  padding-top: 3px !important;\n  padding-bottom: 3px !important;\n  height: unset !important;\n}\n.modal-full-height {\n  max-height: calc(100vh - 31.14px) !important;\n}\n.grabbable:hover {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n.contrast-50 {\n  filter: contrast(50%);\n}\n</style>\n']},media:void 0})},__vue_scope_id__$5=void 0,__vue_module_identifier__$5=void 0,__vue_is_functional_template__$5=!1;var RecordPreviewContent=normalizeComponent_1({render:__vue_render__$5,staticRenderFns:__vue_staticRenderFns__$5},__vue_inject_styles__$5,__vue_script__$5,void 0,!1,void 0,browser,void 0);const{mapGetters:mapGetters$4}=createNamespacedHelpers("KnowledgeBase");var script$6={name:"RecordPreview",components:{RecordPreviewContent:RecordPreviewContent,DragResize:DragResize},props:{isDragResize:{type:Boolean,default:!0},maximizedOnly:{type:Boolean,default:!1},previewDialog:{type:Boolean,default:!1}},data:()=>({coordinates:{width:Quasar.plugins.Screen.width-100,height:Quasar.plugins.Screen.height-100,top:0,left:Quasar.plugins.Screen.width-(Quasar.plugins.Screen.width-50)},previewMaximized:!0}),watch:{previewDialog(){this.$emit("onDialogToggle",this.previewDialog)}},methods:{onChangeCoordinates:function(e){this.coordinates=e},onMaximizedToggle(e){this.previewMaximized=e}}};const __vue_script__$6=script$6;var __vue_render__$6=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{attrs:{maximized:!!e.maximizedOnly||e.previewMaximized,"transition-show":"slide-up","transition-hide":"slide-down","content-class":"quasar-reset"},model:{value:e.previewDialog,callback:function(t){e.previewDialog=t},expression:"previewDialog"}},[e.isDragResize?n("drag-resize",{attrs:{coordinates:e.coordinates,maximized:e.previewMaximized},on:{onChangeCoordinates:e.onChangeCoordinates}},[n("record-preview-content",{attrs:{height:e.coordinates.height,previewMaximized:e.previewMaximized},on:{onMaximizedToggle:e.onMaximizedToggle}})],1):n("record-preview-content",[n("template",{slot:"header-right"},[e._t("header-right")],2)],2)],1)},__vue_staticRenderFns__$6=[];__vue_render__$6._withStripped=!0;const __vue_inject_styles__$6=function(e){e&&e("data-v-e5320484_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"RecordPreview.vue"},media:void 0})},__vue_scope_id__$6=void 0,__vue_module_identifier__$6=void 0,__vue_is_functional_template__$6=!1;var RecordPreview=normalizeComponent_1({render:__vue_render__$6,staticRenderFns:__vue_staticRenderFns__$6},__vue_inject_styles__$6,__vue_script__$6,void 0,!1,void 0,browser,void 0);const{mapGetters:mapGetters$5,mapActions:mapActions$3}=createNamespacedHelpers("KnowledgeBase");var script$7={name:"KnowledgeBase",components:{Icon:Icon,IconInfo:IconInfo,Carousel:Carousel,RecordsList:RecordsList,RecordPreview:RecordPreview},props:{coordinates:{type:Object,default:()=>({width:0,height:0,top:0,left:0})}},data:()=>({defaultTreeIcon:"mdi-subdirectory-arrow-right",drawerBehaviour:"desktop",miniState:!1,left:!0,filter:"",categorySearch:!1,searchData:!1,activeCategory:"",previewDialog:!1,data:{categories:[],records:[],featured:{}}}),computed:{...mapGetters$5(["tree","record","iconSize","moduleName","maximized"]),searchDataArray(){return this.searchData?this.searchData:[]},inputFocus:{set:e=>!1,get(){return this.filter.length>0}}},methods:{...mapActions$3(["fetchRecord","fetchCategories"]),search(){this.filter.length>=3?this.debouncedSearch():this.searchData=!1},clearSearch(){this.filter="",this.searchData=!1},fetchParentCategoryData(){let e="";const t=this.tree.categories[this.activeCategory].parentTree;1!==t.length&&(e=t[t.length-2]),this.fetchData(e)},fetchData(e=""){const t=$.Deferred();this.activeCategory=e;const n=$.progressIndicator({blockInfo:{enabled:!0}});return AppConnector.request({module:this.moduleName,action:"KnowledgeBaseAjax",mode:"list",category:e}).done(e=>{let i=e.result;i.records&&(i.records=Object.keys(i.records).map(function(e){return{...i.records[e],id:e}})),this.data=i,n.progressIndicator({mode:"hide"}),t.resolve(i)})},openQuickCreateModal(){(new window.Vtiger_Header_Js).quickCreateModule(this.moduleName)},showRecordPreview(e){this.fetchRecord(e).then(()=>{this.previewDialog=!0})},toggleDrawer(){this.$q.platform.is.desktop&&(!this.coordinates.width||this.coordinates.width>700)?this.miniState=!this.miniState:this.left=!this.left},onDialogToggle(e){this.previewDialog=e}},async created(){await this.fetchCategories(),await this.fetchData()},mounted(){this.debouncedSearch=Quasar.utils.debounce(()=>{if(this.filter.length<3)return;const e=$.Deferred(),t=$.progressIndicator({blockInfo:{enabled:!0}});AppConnector.request({module:this.moduleName,action:"KnowledgeBaseAjax",mode:"search",value:this.filter,category:this.categorySearch?this.activeCategory:""}).done(n=>{let i=n.result;return i&&(i=Object.keys(i).map(function(e){return{...i[e],id:e}})),this.searchData=i,e.resolve(i),t.progressIndicator({mode:"hide"}),i})},1e3)}};const __vue_script__$7=script$7;var __vue_render__$7=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"KnowledgeBase h-100"},[n("q-layout",{staticClass:"absolute",style:e.coordinates.height&&!e.maximized?{"max-height":e.coordinates.height-31.14+"px"}:{},attrs:{view:"hHh Lpr fFf",container:""}},[n("q-header",{staticClass:"bg-white text-primary",attrs:{elevated:""}},[n("q-toolbar",{staticClass:"q-py-xs flex-wrap flex-md-nowrap"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchData,expression:"!searchData"}],staticClass:"flex items-center no-wrap q-mr-auto q-mr-sm-sm"},[n("q-btn",{attrs:{dense:"",round:"",push:"",icon:"mdi-menu"},on:{click:function(t){return e.toggleDrawer()}}},[n("q-tooltip",[e._v(e._s(e.translate("JS_TOGGLE_CATEGORY_MENU")))])],1),e._v(" "),n("q-breadcrumbs",{staticClass:"ml-2",scopedSlots:e._u([{key:"separator",fn:function(){return[n("q-icon",{attrs:{size:"1.5em",name:"mdi-chevron-right"}})]},proxy:!0}])},[e._v(" "),n("q-breadcrumbs-el",{class:[""===e.activeCategory?"text-black":"cursor-pointer"],attrs:{icon:e.tree.topCategory.icon,label:e.translate(e.tree.topCategory.label)},on:{click:function(t){""!==e.activeCategory&&e.fetchData()}}}),e._v(" "),""!==e.activeCategory?e._l(e.tree.categories[e.activeCategory].parentTree,function(t,i){return n("q-breadcrumbs-el",{key:i,class:[i===e.tree.categories[e.activeCategory].parentTree.length-1?"text-black":"cursor-pointer"],on:{click:function(n){i!==e.tree.categories[e.activeCategory].parentTree.length-1&&e.fetchData(t)}}},[e.tree.categories[t].icon?n("icon",{staticClass:"q-mr-sm",attrs:{size:e.iconSize,icon:e.tree.categories[t].icon}}):e._e(),e._v("\n                "+e._s(e.tree.categories[t].label)+"\n              ")],1)}):e._e()],2)],1),e._v(" "),n("div",{staticClass:"mx-auto tree-search flex no-wrap order-sm-none order-xs-last q-pt-sm-none q-pt-xs-xs"},[n("q-input",{staticClass:"full-width",attrs:{placeholder:e.translate("JS_SEARCH_PLACEHOLDER"),rounded:"",outlined:"",type:"search",autofocus:""},on:{input:e.search},scopedSlots:e._u([{key:"prepend",fn:function(){return[n("q-icon",{attrs:{name:"mdi-magnify"}}),e._v(" "),n("q-tooltip",{attrs:{anchor:"top middle",self:"center middle"},model:{value:e.inputFocus,callback:function(t){e.inputFocus=t},expression:"inputFocus"}},[e._v(e._s(e.translate("JS_INPUT_TOO_SHORT").replace("_LENGTH_","3")))])]},proxy:!0},{key:"append",fn:function(){return[""!==e.filter?n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"mdi-close"},on:{click:function(t){return t.stopPropagation(),e.clearSearch()}}}):e._e(),e._v(" "),n("div",{staticClass:"flex items-center q-ml-sm"},[n("icon-info",{attrs:{customOptions:{iconSize:"21px"}}},[n("div",{staticStyle:{"white-space":"pre-line"},domProps:{innerHTML:e._s(e.translate("JS_FULL_TEXT_SEARCH_INFO"))}})])],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:""!==e.activeCategory,expression:"activeCategory !== ''"}],staticClass:"flex"},[n("q-toggle",{attrs:{icon:"mdi-file-tree"},model:{value:e.categorySearch,callback:function(t){e.categorySearch=t},expression:"categorySearch"}}),e._v(" "),n("q-tooltip",[e._v(e._s(e.translate("JS_SEARCH_CURRENT_CATEGORY")))])],1)]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})],1),e._v(" "),n("div",{staticClass:"q-ml-auto q-ml-sm-sm"},[n("q-btn",{attrs:{round:"",dense:"",color:"white","text-color":"primary",icon:"mdi-plus"},on:{click:function(t){return e.openQuickCreateModal()}}},[n("q-tooltip",[e._v(e._s(e.translate("JS_QUICK_CREATE")))])],1)],1)])],1),e._v(" "),n("q-drawer",{directives:[{name:"show",rawName:"v-show",value:!e.searchData,expression:"!searchData"}],ref:"drawer",attrs:{side:"left",elevated:"",mini:!!e.$q.platform.is.desktop&&e.miniState,width:e.searchData?0:250,breakpoint:700,"content-class":"bg-white text-black"},model:{value:e.left,callback:function(t){e.left=t},expression:"left"}},[n("q-scroll-area",{staticClass:"fit"},[n("q-list",[n("q-item",{directives:[{name:"show",rawName:"v-show",value:""===e.activeCategory,expression:"activeCategory === ''"}],attrs:{active:""}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:e.tree.topCategory.icon,size:e.iconSize}})],1),e._v(" "),n("q-item-section",[e._v(e._s(e.translate(e.tree.topCategory.label)))])],1),e._v(" "),""!==e.activeCategory?n("q-item",{attrs:{clickable:"",active:""},on:{click:function(t){return e.fetchParentCategoryData()}}},[n("q-item-section",{attrs:{avatar:""}},[n("icon",{attrs:{size:e.iconSize,icon:e.tree.categories[e.activeCategory].icon||e.defaultTreeIcon}})],1),e._v(" "),n("q-item-section",[e._v(e._s(e.tree.categories[e.activeCategory].label))]),e._v(" "),n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"mdi-chevron-left"}})],1)],1):e._e(),e._v(" "),e._l(e.data.categories,function(t,i){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:i,attrs:{clickable:""},on:{click:function(n){return e.fetchData(t)}}},[n("q-item-section",{attrs:{avatar:""}},[n("icon",{attrs:{size:e.iconSize,icon:e.tree.categories[t].icon||e.defaultTreeIcon}})],1),e._v(" "),n("q-item-section",[e._v(e._s(e.tree.categories[t].label))]),e._v(" "),n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"mdi-chevron-right"}})],1)],1)})],2)],1)],1),e._v(" "),n("q-page-container",[n("q-page",{staticClass:"q-pa-sm"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.searchData,expression:"!searchData"}]},[void 0===e.data.featured.length&&e.data.categories?n("div",{staticClass:"q-pa-sm featured-container items-start q-gutter-md"},[e._l(e.data.categories,function(t,i){return[e.data.featured[t]?n("q-list",{key:i,attrs:{bordered:"",padding:"",dense:""}},[n("q-item",{staticClass:"text-black flex",attrs:{header:"",clickable:""},on:{click:function(n){return e.fetchData(t)}}},[n("icon",{staticClass:"mr-2",attrs:{icon:e.tree.categories[t].icon,size:e.iconSize}}),e._v("\n                  "+e._s(e.tree.categories[t].label)+"\n                ")],1),e._v(" "),e._l(e.data.featured[t],function(t){return n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.id,staticClass:"text-subtitle2",attrs:{clickable:""},on:{click:function(n){return n.preventDefault(),e.showRecordPreview(t.id)}}},[n("q-item-section",{staticClass:"align-items-center flex-row no-wrap justify-content-start"},[n("q-icon",{staticClass:"mr-2",attrs:{name:"mdi-star",size:e.iconSize}}),e._v(" "),n("a",{staticClass:"js-popover-tooltip--record ellipsis",attrs:{href:"index.php?module="+e.moduleName+"&view=Detail&record="+t.id}},[e._v(e._s(t.subject))])],1)],1)})],2):e._e()]})],2):e._e(),e._v(" "),n("records-list",{directives:[{name:"show",rawName:"v-show",value:""!==e.activeCategory,expression:"activeCategory !== ''"}],attrs:{data:e.data.records,title:e.translate("JS_ARTICLES")},on:{onClickRecord:function(t){e.previewDialog=!0}}})],1),e._v(" "),n("records-list",{directives:[{name:"show",rawName:"v-show",value:e.searchData,expression:"searchData"}],attrs:{data:e.searchDataArray,title:e.translate("JS_ARTICLES")},on:{onClickRecord:function(t){e.previewDialog=!0}}})],1)],1)],1),e._v(" "),n("record-preview",{attrs:{isDragResize:!0,previewDialog:e.previewDialog},on:{onDialogToggle:e.onDialogToggle}})],1)},__vue_staticRenderFns__$7=[];__vue_render__$7._withStripped=!0;const __vue_inject_styles__$7=function(e){e&&e("data-v-90a5ff06_0",{source:"\n.tree-search {\n  min-width: 320px;\n  width: 50%;\n}\n.tree-search .q-field__control,\n.tree-search .q-field__marginal {\n  height: 40px;\n}\n.featured-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-auto-flow: dense;\n}\n",map:{version:3,sources:["C:\\www\\YetiForceCRM\\public_html\\src\\layouts\\resources\\views\\KnowledgeBase\\KnowledgeBase.vue"],names:[],mappings:";AA2VA;EACA,gBAAA;EACA,UAAA;AACA;AACA;;EAEA,YAAA;AACA;AACA;EACA,aAAA;EACA,4DAAA;EACA,qBAAA;AACA",file:"KnowledgeBase.vue",sourcesContent:['\x3c!--\n/**\n * KnowledgeBase component\n *\n * @description Knowledge base view root component\n * @license YetiForce Public License 3.0\n * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>\n */\n--\x3e\n<template>\n  <div class="KnowledgeBase h-100">\n    <q-layout\n      view="hHh Lpr fFf"\n      container\n      class="absolute"\n      :style="coordinates.height && !maximized ? { \'max-height\': `${coordinates.height - 31.14}px` } : {}"\n    >\n      <q-header elevated class="bg-white text-primary">\n        <q-toolbar class="q-py-xs flex-wrap flex-md-nowrap">\n          <div v-show="!searchData" class="flex items-center no-wrap q-mr-auto q-mr-sm-sm">\n            <q-btn dense round push icon="mdi-menu" @click="toggleDrawer()">\n              <q-tooltip>{{ translate(\'JS_TOGGLE_CATEGORY_MENU\') }}</q-tooltip>\n            </q-btn>\n            <q-breadcrumbs class="ml-2">\n              <template v-slot:separator>\n                <q-icon size="1.5em" name="mdi-chevron-right" />\n              </template>\n              <q-breadcrumbs-el\n                :icon="tree.topCategory.icon"\n                :label="translate(tree.topCategory.label)"\n                @click="activeCategory === \'\' ? \'\' : fetchData()"\n                :class="[activeCategory === \'\' ? \'text-black\' : \'cursor-pointer\']"\n              />\n              <template v-if="activeCategory !== \'\'">\n                <q-breadcrumbs-el\n                  v-for="(category, index) in tree.categories[activeCategory].parentTree"\n                  :key="index"\n                  :class="[\n                    index === tree.categories[activeCategory].parentTree.length - 1 ? \'text-black\' : \'cursor-pointer\'\n                  ]"\n                  @click="index === tree.categories[activeCategory].parentTree.length - 1 ? \'\' : fetchData(category)"\n                >\n                  <icon\n                    v-if="tree.categories[category].icon"\n                    :size="iconSize"\n                    :icon="tree.categories[category].icon"\n                    class="q-mr-sm"\n                  ></icon>\n                  {{ tree.categories[category].label }}\n                </q-breadcrumbs-el>\n              </template>\n            </q-breadcrumbs>\n          </div>\n          <div class="mx-auto tree-search flex no-wrap order-sm-none order-xs-last q-pt-sm-none q-pt-xs-xs">\n            <q-input\n              class="full-width"\n              v-model="filter"\n              :placeholder="translate(\'JS_SEARCH_PLACEHOLDER\')"\n              rounded\n              outlined\n              type="search"\n              @input="search"\n              autofocus\n            >\n              <template v-slot:prepend>\n                <q-icon name="mdi-magnify" />\n                <q-tooltip v-model="inputFocus" anchor="top middle" self="center middle">{{\n                  translate(\'JS_INPUT_TOO_SHORT\').replace(\'_LENGTH_\', \'3\')\n                }}</q-tooltip>\n              </template>\n              <template v-slot:append>\n                <q-icon v-if="filter !== \'\'" name="mdi-close" @click.stop="clearSearch()" class="cursor-pointer" />\n                <div class="flex items-center q-ml-sm">\n                  <icon-info :customOptions="{ iconSize: \'21px\' }">\n                    <div style="white-space: pre-line;" v-html="translate(\'JS_FULL_TEXT_SEARCH_INFO\')"></div>\n                  </icon-info>\n                </div>\n                <div v-show="activeCategory !== \'\'" class="flex">\n                  <q-toggle v-model="categorySearch" icon="mdi-file-tree" />\n                  <q-tooltip>{{ translate(\'JS_SEARCH_CURRENT_CATEGORY\') }}</q-tooltip>\n                </div>\n              </template>\n            </q-input>\n          </div>\n          <div class="q-ml-auto q-ml-sm-sm">\n            <q-btn round dense color="white" text-color="primary" icon="mdi-plus" @click="openQuickCreateModal()">\n              <q-tooltip>{{ translate(\'JS_QUICK_CREATE\') }}</q-tooltip>\n            </q-btn>\n          </div>\n        </q-toolbar>\n      </q-header>\n      <q-drawer\n        v-show="!searchData"\n        v-model="left"\n        side="left"\n        elevated\n        :mini="$q.platform.is.desktop ? miniState : false"\n        :width="searchData ? 0 : 250"\n        :breakpoint="700"\n        content-class="bg-white text-black"\n        ref="drawer"\n      >\n        <q-scroll-area class="fit">\n          <q-list>\n            <q-item v-show="activeCategory === \'\'" active>\n              <q-item-section avatar>\n                <q-icon :name="tree.topCategory.icon" :size="iconSize" />\n              </q-item-section>\n              <q-item-section>{{ translate(tree.topCategory.label) }}</q-item-section>\n            </q-item>\n            <q-item v-if="activeCategory !== \'\'" clickable active @click="fetchParentCategoryData()">\n              <q-item-section avatar>\n                <icon :size="iconSize" :icon="tree.categories[activeCategory].icon || defaultTreeIcon" />\n              </q-item-section>\n              <q-item-section>{{ tree.categories[activeCategory].label }}</q-item-section>\n              <q-item-section avatar>\n                <q-icon name="mdi-chevron-left" />\n              </q-item-section>\n            </q-item>\n            <q-item\n              v-for="(categoryValue, categoryKey) in data.categories"\n              :key="categoryKey"\n              clickable\n              v-ripple\n              @click="fetchData(categoryValue)"\n            >\n              <q-item-section avatar>\n                <icon :size="iconSize" :icon="tree.categories[categoryValue].icon || defaultTreeIcon" />\n              </q-item-section>\n              <q-item-section>{{ tree.categories[categoryValue].label }}</q-item-section>\n              <q-item-section avatar>\n                <q-icon name="mdi-chevron-right" />\n              </q-item-section>\n            </q-item>\n          </q-list>\n        </q-scroll-area>\n      </q-drawer>\n      <q-page-container>\n        <q-page class="q-pa-sm">\n          <div v-show="!searchData">\n            <div\n              v-if="typeof data.featured.length === \'undefined\' && data.categories"\n              class="q-pa-sm featured-container items-start q-gutter-md"\n            >\n              <template v-for="(categoryValue, categoryKey) in data.categories">\n                <q-list bordered padding dense v-if="data.featured[categoryValue]" :key="categoryKey">\n                  <q-item header clickable class="text-black flex" @click="fetchData(categoryValue)">\n                    <icon :icon="tree.categories[categoryValue].icon" :size="iconSize" class="mr-2"></icon>\n                    {{ tree.categories[categoryValue].label }}\n                  </q-item>\n                  <q-item\n                    clickable\n                    v-for="featuredValue in data.featured[categoryValue]"\n                    :key="featuredValue.id"\n                    class="text-subtitle2"\n                    v-ripple\n                    @click.prevent="showRecordPreview(featuredValue.id)"\n                  >\n                    <q-item-section class="align-items-center flex-row no-wrap justify-content-start">\n                      <q-icon name="mdi-star" :size="iconSize" class="mr-2"></q-icon>\n                      <a\n                        class="js-popover-tooltip--record ellipsis"\n                        :href="`index.php?module=${moduleName}&view=Detail&record=${featuredValue.id}`"\n                        >{{ featuredValue.subject }}</a\n                      >\n                    </q-item-section>\n                  </q-item>\n                </q-list>\n              </template>\n            </div>\n            <records-list\n              v-show="activeCategory !== \'\'"\n              :data="data.records"\n              :title="translate(\'JS_ARTICLES\')"\n              @onClickRecord="previewDialog = true"\n            />\n          </div>\n          <records-list\n            v-show="searchData"\n            :data="searchDataArray"\n            :title="translate(\'JS_ARTICLES\')"\n            @onClickRecord="previewDialog = true"\n          />\n        </q-page>\n      </q-page-container>\n    </q-layout>\n    <record-preview :isDragResize="true" :previewDialog="previewDialog" @onDialogToggle="onDialogToggle" />\n  </div>\n</template>\n<script>\nimport Icon from \'../../../../components/Icon.vue\'\nimport IconInfo from \'../../../../components/IconInfo.vue\'\nimport Carousel from \'./components/Carousel.vue\'\nimport RecordsList from \'./components/RecordsList.vue\'\nimport RecordPreview from \'./components/RecordPreview.vue\'\nimport { createNamespacedHelpers } from \'vuex\'\n\nconst { mapGetters, mapActions } = createNamespacedHelpers(\'KnowledgeBase\')\nexport default {\n  name: \'KnowledgeBase\',\n  components: { Icon, IconInfo, Carousel, RecordsList, RecordPreview },\n  props: {\n    coordinates: {\n      type: Object,\n      default: () => {\n        return {\n          width: 0,\n          height: 0,\n          top: 0,\n          left: 0\n        }\n      }\n    }\n  },\n  data() {\n    return {\n      defaultTreeIcon: \'mdi-subdirectory-arrow-right\',\n      drawerBehaviour: \'desktop\',\n      miniState: false,\n      left: true,\n      filter: \'\',\n      categorySearch: false,\n      searchData: false,\n      activeCategory: \'\',\n      previewDialog: false,\n      data: {\n        categories: [],\n        records: [],\n        featured: {}\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\'tree\', \'record\', \'iconSize\', \'moduleName\', \'maximized\']),\n    searchDataArray() {\n      return this.searchData ? this.searchData : []\n    },\n    inputFocus: {\n      set(val) {\n        return false\n      },\n      get() {\n        return this.filter.length > 0\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\'fetchRecord\', \'fetchCategories\']),\n    search() {\n      if (this.filter.length >= 3) {\n        this.debouncedSearch()\n      } else {\n        this.searchData = false\n      }\n    },\n    clearSearch() {\n      this.filter = \'\'\n      this.searchData = false\n    },\n    fetchParentCategoryData() {\n      let parentCategory = \'\'\n      const parentTreeArray = this.tree.categories[this.activeCategory].parentTree\n      if (parentTreeArray.length !== 1) {\n        parentCategory = parentTreeArray[parentTreeArray.length - 2]\n      }\n      this.fetchData(parentCategory)\n    },\n    fetchData(category = \'\') {\n      const aDeferred = $.Deferred()\n      this.activeCategory = category\n      const progressIndicatorElement = $.progressIndicator({\n        blockInfo: { enabled: true }\n      })\n      return AppConnector.request({\n        module: this.moduleName,\n        action: \'KnowledgeBaseAjax\',\n        mode: \'list\',\n        category: category\n      }).done(data => {\n        let listData = data.result\n        if (listData.records) {\n          listData.records = Object.keys(listData.records).map(function(key) {\n            return { ...listData.records[key], id: key }\n          })\n        }\n        this.data = listData\n        progressIndicatorElement.progressIndicator({ mode: \'hide\' })\n        aDeferred.resolve(listData)\n      })\n    },\n    openQuickCreateModal() {\n      const headerInstance = new window.Vtiger_Header_Js()\n      headerInstance.quickCreateModule(this.moduleName)\n    },\n    showRecordPreview(id) {\n      this.fetchRecord(id).then(() => {\n        this.previewDialog = true\n      })\n    },\n    toggleDrawer() {\n      if (this.$q.platform.is.desktop && (!this.coordinates.width || this.coordinates.width > 700)) {\n        this.miniState = !this.miniState\n      } else {\n        this.left = !this.left\n      }\n    },\n    onDialogToggle(val) {\n      this.previewDialog = val\n    }\n  },\n  async created() {\n    await this.fetchCategories()\n    await this.fetchData()\n  },\n  mounted() {\n    const debounceDelay = 1000\n    this.debouncedSearch = Quasar.utils.debounce(() => {\n      if (this.filter.length < 3) {\n        return\n      }\n      const aDeferred = $.Deferred()\n      const progressIndicatorElement = $.progressIndicator({\n        blockInfo: { enabled: true }\n      })\n      AppConnector.request({\n        module: this.moduleName,\n        action: \'KnowledgeBaseAjax\',\n        mode: \'search\',\n        value: this.filter,\n        category: this.categorySearch ? this.activeCategory : \'\'\n      }).done(data => {\n        let listData = data.result\n        if (listData) {\n          listData = Object.keys(listData).map(function(key) {\n            return { ...listData[key], id: key }\n          })\n        }\n        this.searchData = listData\n        aDeferred.resolve(listData)\n        progressIndicatorElement.progressIndicator({ mode: \'hide\' })\n        return listData\n      })\n    }, debounceDelay)\n  }\n}\n<\/script>\n<style>\n.tree-search {\n  min-width: 320px;\n  width: 50%;\n}\n.tree-search .q-field__control,\n.tree-search .q-field__marginal {\n  height: 40px;\n}\n.featured-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\n  grid-auto-flow: dense;\n}\n</style>\n']},media:void 0})},__vue_scope_id__$7=void 0,__vue_module_identifier__$7=void 0,__vue_is_functional_template__$7=!1;var KnowledgeBaseComponent=normalizeComponent_1({render:__vue_render__$7,staticRenderFns:__vue_staticRenderFns__$7},__vue_inject_styles__$7,__vue_script__$7,void 0,!1,void 0,browser,void 0);const{mapGetters:mapGetters$6,mapActions:mapActions$4}=createNamespacedHelpers("KnowledgeBase");var script$8={name:"KnowledgeBaseModal",components:{KnowledgeBase:KnowledgeBaseComponent,DragResize:DragResize},data:()=>({coordinates:{width:Quasar.plugins.Screen.width-100,height:Quasar.plugins.Screen.height-100,top:0,left:Quasar.plugins.Screen.width-(Quasar.plugins.Screen.width-50)}}),computed:{...mapGetters$6(["maximized","moduleName"]),dialog:{set(e){this.$store.commit("KnowledgeBase/setDialog",e)},get(){return this.$store.getters["KnowledgeBase/dialog"]}},maximized:{set(e){this.$store.commit("KnowledgeBase/setMaximized",e)},get(){return this.$store.getters["KnowledgeBase/maximized"]}}},methods:{...mapActions$4(["fetchCategories","initState"]),onChangeCoordinates:function(e){this.coordinates=e}},async created(){await this.initState(this.$options.state)}};const __vue_script__$8=script$8;var __vue_render__$8=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-dialog",{attrs:{maximized:e.maximized,"transition-show":"slide-up","transition-hide":"slide-down","content-class":"quasar-reset"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("drag-resize",{attrs:{coordinates:e.coordinates,maximized:e.maximized},on:{onChangeCoordinates:e.onChangeCoordinates}},[n("q-card",{staticClass:"KnowledgeBaseModal full-height"},[n("q-bar",{staticClass:"bg-yeti text-white dialog-header",attrs:{dark:""}},[n("div",{staticClass:"flex items-center"},[n("div",{staticClass:"flex items-center no-wrap ellipsis q-mr-sm-sm"},[n("span",{class:["userIcon-"+e.moduleName,"q-mr-sm"]}),e._v("\n            "+e._s(e.translate("JS_"+e.moduleName.toUpperCase()))+"\n          ")])]),e._v(" "),n("q-space"),e._v(" "),e.$q.platform.is.desktop?[n("a",{directives:[{name:"show",rawName:"v-show",value:!e.maximized,expression:"!maximized"}],staticClass:"flex grabbable text-decoration-none text-white",attrs:{href:"#"}},[n("q-icon",{staticClass:"js-drag",attrs:{name:"mdi-drag",size:"19px"}})],1),e._v(" "),n("q-btn",{attrs:{dense:"",flat:"",icon:e.maximized?"mdi-window-restore":"mdi-window-maximize"},on:{click:function(t){e.maximized=!e.maximized}}},[n("q-tooltip",[e._v(e._s(e.maximized?e.translate("JS_MINIMIZE"):e.translate("JS_MAXIMIZE")))])],1)]:e._e(),e._v(" "),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"mdi-close"}},[n("q-tooltip",[e._v(e._s(e.translate("JS_CLOSE")))])],1)],2),e._v(" "),n("div",[n("knowledge-base",{attrs:{coordinates:e.coordinates}})],1)],1)],1)],1)},__vue_staticRenderFns__$8=[];__vue_render__$8._withStripped=!0;const __vue_inject_styles__$8=function(e){e&&e("data-v-161a2bbf_0",{source:"\n.dialog-header {\n  padding-top: 3px !important;\n  padding-bottom: 3px !important;\n  height: unset !important;\n}\n.modal-full-height {\n  max-height: calc(100vh - 31.14px) !important;\n}\n.grabbable:hover {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n.contrast-50 {\n  filter: contrast(50%);\n}\n",map:{version:3,sources:["C:\\www\\YetiForceCRM\\public_html\\src\\layouts\\resources\\views\\KnowledgeBase\\KnowledgeBaseModal.vue"],names:[],mappings:";AAqGA;EACA,2BAAA;EACA,8BAAA;EACA,wBAAA;AACA;AACA;EACA,4CAAA;AACA;AACA;EACA,YAAA;EACA,YAAA;EACA,iBAAA;EACA,oBAAA;AACA;AACA;EACA,gBAAA;EACA,qBAAA;EACA,wBAAA;AACA;AACA;EACA,qBAAA;AACA",file:"KnowledgeBaseModal.vue",sourcesContent:['\x3c!--\n/**\n * KnowledgeBaseModal component\n *\n * @description KnowledgeBaseModal parent component\n * @license YetiForce Public License 3.0\n * @author Tomasz Poradzewski <t.poradzewski@yetiforce.com>\n */\n--\x3e\n<template>\n  <q-dialog\n    v-model="dialog"\n    :maximized="maximized"\n    transition-show="slide-up"\n    transition-hide="slide-down"\n    content-class="quasar-reset"\n\n  >\n    <drag-resize :coordinates="coordinates" v-on:onChangeCoordinates="onChangeCoordinates" :maximized="maximized">\n      <q-card class="KnowledgeBaseModal full-height">\n        <q-bar dark class="bg-yeti text-white dialog-header">\n          <div class="flex items-center">\n            <div class="flex items-center no-wrap ellipsis q-mr-sm-sm">\n              <span :class="[`userIcon-${moduleName}`, \'q-mr-sm\']"></span>\n              {{ translate(`JS_${moduleName.toUpperCase()}`) }}\n            </div>\n          </div>\n          <q-space />\n          <template v-if="$q.platform.is.desktop">\n            <a v-show="!maximized" class="flex grabbable text-decoration-none text-white" href="#">\n              <q-icon class="js-drag" name="mdi-drag" size="19px" />\n            </a>\n            <q-btn\n              dense\n              flat\n              :icon="maximized ? \'mdi-window-restore\' : \'mdi-window-maximize\'"\n              @click="maximized = !maximized"\n            >\n              <q-tooltip>{{ maximized ? translate(\'JS_MINIMIZE\') : translate(\'JS_MAXIMIZE\') }}</q-tooltip>\n            </q-btn>\n          </template>\n          <q-btn dense flat icon="mdi-close" v-close-popup>\n            <q-tooltip>{{ translate(\'JS_CLOSE\') }}</q-tooltip>\n          </q-btn>\n        </q-bar>\n        <div>\n          <knowledge-base :coordinates="coordinates" />\n        </div>\n      </q-card>\n    </drag-resize>\n  </q-dialog>\n</template>\n<script>\nimport DragResize from \'./components/DragResize.vue\'\nimport KnowledgeBase from \'./KnowledgeBase.vue\'\nimport { createNamespacedHelpers } from \'vuex\'\nconst { mapGetters, mapActions } = createNamespacedHelpers(\'KnowledgeBase\')\nexport default {\n  name: \'KnowledgeBaseModal\',\n  components: { KnowledgeBase, DragResize },\n  data() {\n    return {\n      coordinates: {\n        width: Quasar.plugins.Screen.width - 100,\n        height: Quasar.plugins.Screen.height - 100,\n        top: 0,\n        left: Quasar.plugins.Screen.width - (Quasar.plugins.Screen.width - 100 / 2)\n      }\n    }\n  },\n  computed: {\n    ...mapGetters([\'maximized\', \'moduleName\']),\n    dialog: {\n      set(val) {\n        this.$store.commit(\'KnowledgeBase/setDialog\', val)\n      },\n      get() {\n        return this.$store.getters[\'KnowledgeBase/dialog\']\n      }\n    },\n    maximized: {\n      set(val) {\n        this.$store.commit(\'KnowledgeBase/setMaximized\', val)\n      },\n      get() {\n        return this.$store.getters[\'KnowledgeBase/maximized\']\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\'fetchCategories\', \'initState\']),\n    onChangeCoordinates: function(coordinates) {\n      this.coordinates = coordinates\n    }\n  },\n  async created() {\n    await this.initState(this.$options.state)\n  }\n}\n<\/script>\n<style>\n.dialog-header {\n  padding-top: 3px !important;\n  padding-bottom: 3px !important;\n  height: unset !important;\n}\n.modal-full-height {\n  max-height: calc(100vh - 31.14px) !important;\n}\n.grabbable:hover {\n  cursor: move;\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.grabbable:active {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n}\n.contrast-50 {\n  filter: contrast(50%);\n}\n</style>\n']},media:void 0})},__vue_scope_id__$8=void 0,__vue_module_identifier__$8=void 0,__vue_is_functional_template__$8=!1;var KnowledgeBaseModal=normalizeComponent_1({render:__vue_render__$8,staticRenderFns:__vue_staticRenderFns__$8},__vue_inject_styles__$8,__vue_script__$8,void 0,!1,void 0,browser,void 0);const{mapGetters:mapGetters$7,mapActions:mapActions$5}=createNamespacedHelpers("KnowledgeBase");var script$9={name:"RecordPreviewModal",components:{RecordPreview:RecordPreview},methods:{hideModal(){app.hideModalWindow(),this.initState({record:!1}),this.$destroy()},...mapActions$5(["fetchCategories","fetchRecord","initState"])},async created(){await this.initState(this.$options.state),await this.fetchCategories(),await this.fetchRecord(this.$options.state.recordId),document.addEventListener("keyup",e=>{27===e.keyCode&&this.hideModal()})}};const __vue_script__$9=script$9;var __vue_render__$9=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("record-preview",{attrs:{isDragResize:!1,maximizedOnly:!0,previewDialog:!0}},[n("template",{slot:"header-right"},[n("q-btn",{attrs:{dense:"",flat:"",icon:"mdi-close"},on:{click:function(t){return e.hideModal()}}},[n("q-tooltip",[e._v(e._s(e.translate("JS_CLOSE")))])],1)],1)],2)},__vue_staticRenderFns__$9=[];__vue_render__$9._withStripped=!0;const __vue_inject_styles__$9=function(e){e&&e("data-v-fb6b735c_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"RecordPreviewModal.vue"},media:void 0})},__vue_scope_id__$9=void 0,__vue_module_identifier__$9=void 0,__vue_is_functional_template__$9=!1;var RecordPreviewComponent=normalizeComponent_1({render:__vue_render__$9,staticRenderFns:__vue_staticRenderFns__$9},__vue_inject_styles__$9,__vue_script__$9,void 0,!1,void 0,browser,void 0);const state={record:!1,dialog:!1,maximized:!0,moduleName:"",iconSize:"18px",tree:{topCategory:{icon:"mdi-file-tree",label:"JS_MAIN_CATEGORIES"},categories:{}}},getters={moduleName:e=>e.moduleName,record:e=>e.record,dialog:e=>e.dialog,maximized:e=>e.maximized,previewDialog:e=>e.previewDialog,previewMaximized:e=>e.previewMaximized,coordinates:e=>e.coordinates,iconSize:e=>e.iconSize,tree:e=>e.tree},actions={fetchRecord({state:e,commit:t,getters:n},i){const r=$.Deferred(),o=$.progressIndicator({blockInfo:{enabled:!0}});return AppConnector.request({module:n.moduleName,action:"KnowledgeBaseAjax",mode:"detail",record:i}).done(e=>{let n=e.result;n.related.base.Articles&&(n.related.base.Articles=Object.keys(n.related.base.Articles).map(function(e){return{...n.related.base.Articles[e],id:e}})),t("setRecord",n),o.progressIndicator({mode:"hide"}),r.resolve(n)})},fetchCategories({state:e,commit:t,getters:n}){const i=$.Deferred();return AppConnector.request({module:n.moduleName,action:"KnowledgeBaseAjax",mode:"categories"}).done(e=>{t("setTreeCategories",e.result),i.resolve(e.result)})},initState({state:e,commit:t},n){t("setState",n)}},mutations={setState(e,t){e=Object.assign(e,t)},setRecord(e,t){e.record=t},setDialog(e,t){e.dialog=t},setMaximized(e,t){e.maximized=t},setCoordinates(e,t){e.coordinates=t},setTreeCategories(e,t){e.tree.categories=t}};var KnowledgeBase={namespaced:!0,state:state,getters:getters,actions:actions,mutations:mutations};Vue.use(index_esm);const debug=!1,vuexStore=new index_esm.Store({modules:{KnowledgeBase:KnowledgeBase},strict:!1}),{mapActions:mapActions$6}=createNamespacedHelpers("KnowledgeBase");Vue.mixin({methods:{translate:e=>app.vtranslate(e)}}),window.KnowledgeBase={component:KnowledgeBaseComponent,mount:e=>(KnowledgeBaseComponent.state=e.state,new Vue({store:vuexStore,render:e=>e(KnowledgeBaseComponent),methods:{...mapActions$6(["fetchCategories","initState"])},async created(){await this.initState(e.state)}}).$mount(e.el))},window.RecordPreviewVueComponent={component:RecordPreviewComponent,mount:e=>(RecordPreviewComponent.state=e.state,new Vue({store:vuexStore,render:e=>e(RecordPreviewComponent)}).$mount(e.el))},window.KnowledgeBaseModalVueComponent={component:KnowledgeBaseModal,mount:e=>(KnowledgeBaseModal.state=e.state,new Vue({store:vuexStore,render:e=>e(KnowledgeBaseModal)}).$mount(e.el))};
//# sourceMappingURL=KnowledgeBase.vue.js.map
