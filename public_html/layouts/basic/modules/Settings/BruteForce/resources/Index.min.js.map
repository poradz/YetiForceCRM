{"version":3,"file":"Index.min.js","sources":["Index.js"],"sourcesContent":["/* {[The file is published on the basis of YetiForce Public License 3.0 that can be found in the following directory: licenses/LicenseEN.txt or yetiforce.com]} */\n'use strict';\n\njQuery.Class(\n\t'Settings_BruteForce_Index_Js',\n\t{},\n\t{\n\t\tcontainer: false,\n\t\tgetContainer: function() {\n\t\t\tif (this.container == false) {\n\t\t\t\tthis.container = jQuery('div.contentsDiv');\n\t\t\t}\n\t\t\treturn this.container;\n\t\t},\n\t\tsaveAjax: function(mode, params) {\n\t\t\tapp\n\t\t\t\t.saveAjax(mode, params)\n\t\t\t\t.done(function(data) {\n\t\t\t\t\tvar response = data.result;\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttext: app.vtranslate(response.message),\n\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t};\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t})\n\t\t\t\t.fail(function(textStatus, errorThrown) {\n\t\t\t\t\tVtiger_Helper_Js.showPnotify({ text: app.vtranslate('JS_COULD_NOT_FINNISH_REACTION') });\n\t\t\t\t\tapp.errorLog(textStatus, errorThrown);\n\t\t\t\t});\n\t\t},\n\t\tregisterSwitchEvents: function() {\n\t\t\tthis.getContainer()\n\t\t\t\t.find('.js-switch--sent')\n\t\t\t\t.on('change', e => {\n\t\t\t\t\t$(e.currentTarget)\n\t\t\t\t\t\t.closest('.form-group')\n\t\t\t\t\t\t.find('.selectedUsersForm')\n\t\t\t\t\t\t.toggleClass('d-none');\n\t\t\t\t});\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tthisInstance.registerSwitchEvents();\n\t\t\tvar forms = thisInstance.getContainer().find('form');\n\t\t\tforms.on('submit', function(e) {\n\t\t\t\tvar form = jQuery(e.currentTarget);\n\t\t\t\tif (form.validationEngine('validate') == true) {\n\t\t\t\t\tvar paramsForm = form.serializeFormData();\n\t\t\t\t\tparamsForm['active'] = form.find('[name=\"active\"]').prop('checked') ? 1 : 0;\n\t\t\t\t\tparamsForm['sent'] = form.find('[name=\"sent\"]').prop('checked') ? 1 : 0;\n\t\t\t\t\tdelete paramsForm['_csrf'];\n\t\t\t\t\tthisInstance.saveAjax(form.data('mode'), paramsForm);\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tapp.formAlignmentAfterValidation(form);\n\t\t\t\t}\n\t\t\t});\n\t\t\tforms.validationEngine(app.validationEngineOptions);\n\t\t\tjQuery('.unblock').on('click', function(e) {\n\t\t\t\tvar progressIndicatorElement = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar element = jQuery(e.currentTarget);\n\t\t\t\tapp.saveAjax('unBlock', element.data('id')).done(function(data) {\n\t\t\t\t\tvar response = data.result;\n\t\t\t\t\tvar params = { text: app.vtranslate(response.message) };\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tparams.type = 'info';\n\t\t\t\t\t\telement.parents('tr').hide();\n\t\t\t\t\t}\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tVtiger_Helper_Js.showPnotify(params);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","container","getContainer","saveAjax","mode","params","app","done","data","result","text","vtranslate","response","message","type","Vtiger_Helper_Js","showPnotify","fail","textStatus","errorThrown","errorLog","registerSwitchEvents","find","on","$","e","currentTarget","closest","toggleClass","registerEvents","thisInstance","forms","validationEngine","form","serializeFormData","prop","paramsForm","formAlignmentAfterValidation","validationEngineOptions","progressIndicator","position","blockInfo","enabled","element","success","parents","hide","progressIndicatorElement"],"mappings":"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"}