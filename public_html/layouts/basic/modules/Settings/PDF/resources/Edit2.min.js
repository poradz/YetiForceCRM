Settings_PDF_Edit_Js("Settings_PDF_Edit2_Js",{},{step2Container:false,advanceFilterInstance:false,init:function(){this.initialize()},getContainer:function(){return this.step2Container},setContainer:function(element){this.step2Container=element;return this},initialize:function(container){if(typeof container==="undefined"){container=jQuery("#pdf_step2")}if(container.is("#pdf_step2")){this.setContainer(container)}else{this.setContainer(jQuery("#pdf_step2"))}},submit:function(){var aDeferred=jQuery.Deferred();var form=this.getContainer();var formData=form.serializeFormData();var progressIndicatorElement=jQuery.progressIndicator({position:"html",blockInfo:{enabled:true}});var saveData=form.serializeFormData();saveData["action"]="Save";saveData["step"]=2;AppConnector.request(saveData).then(function(data){data=JSON.parse(data);if(data.success==true){Settings_Vtiger_Index_Js.showMessage({text:app.vtranslate("JS_PDF_SAVED_SUCCESSFULLY")});AppConnector.request(formData).then(function(data){form.hide();progressIndicatorElement.progressIndicator({mode:"hide"});aDeferred.resolve(data)},function(error,err){app.errorLog(error,err)})}},function(error,err){app.errorLog(error,err)});return aDeferred.promise()},registerCancelStepClickEvent:function(form){jQuery("button.cancelLink",form).on("click",function(){window.history.back()})},registerMarginCheckboxClickEvent:function(container){container.find("#margin_chkbox").on("change",function(){var status=jQuery(this).is(":checked");if(status){container.find(".margin_inputs").addClass("d-none")}else{container.find(".margin_inputs").removeClass("d-none")}})},registerEvents:function(){var container=this.getContainer();var opts=app.validationEngineOptions;opts["onValidationComplete"]=function(form,valid){return valid};opts["promptPosition"]="topLeft";container.validationEngine(opts);App.Fields.Picklist.showSelect2ElementView(container.find(".select2"));this.registerCancelStepClickEvent(container);this.registerMarginCheckboxClickEvent(container);app.showPopoverElementView(container.find(".js-popover-tooltip"))}});